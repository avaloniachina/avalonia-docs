"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[53266],{64310:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var o=n(85893),l=n(11151);const i="data:image/png;base64,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",s={id:"control-themes",title:"Control Themes"},r=void 0,a={id:"basics/user-interface/styling/control-themes",title:"Control Themes",description:"Control themes build upon Styles to create switchable themes for controls. Control themes are analogous to Styles in WPF/UWP, though their mechanism is slightly different.",source:"@site/docs/basics/user-interface/styling/control-themes.md",sourceDirName:"basics/user-interface/styling",slug:"/basics/user-interface/styling/control-themes",permalink:"/avalonia-docs/docs/basics/user-interface/styling/control-themes",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/basics/user-interface/styling/control-themes.md",tags:[],version:"current",frontMatter:{id:"control-themes",title:"Control Themes"},sidebar:"documentationSidebar",previous:{title:"Style Classes",permalink:"/avalonia-docs/docs/basics/user-interface/styling/style-classes"},next:{title:"Themes",permalink:"/avalonia-docs/docs/basics/user-interface/styling/themes/"}},c={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Example: Round Button",id:"example-round-button",level:2},{value:"Interaction in Control Themes",id:"interaction-in-control-themes",level:2},{value:"Example: Round Button Hover State",id:"example-round-button-hover-state",level:2},{value:"Control Theme Lookup",id:"control-theme-lookup",level:2},{value:"Example: Make all the Buttons Round",id:"example-make-all-the-buttons-round",level:2},{value:"TargetType",id:"targettype",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["Control themes build upon ",(0,o.jsx)(t.a,{href:"styles",children:"Styles"})," to create switchable themes for controls. Control themes are analogous to Styles in WPF/UWP, though their mechanism is slightly different."]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["Because control themes are based on styles, it is important to understand the Avalonia ",(0,o.jsx)(t.a,{href:"styles",children:"styling system"})," first."]})}),"\n",(0,o.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsx)(t.p,{children:"Before Avalonia 11, control themes were created using standard styles. However, this approach had a fundamental problem: once a style was applied to a control, there was no way to remove it. Consequently, if you wanted to change the theme for a specific instance of a control or a section of the user interface (UI), the only option was to apply a second theme to the control and hope that it would override all the properties set in the original theme."}),"\n",(0,o.jsxs)(t.p,{children:["The solution for this was introduced in Avalonia 11 in the form of ",(0,o.jsx)(t.em,{children:"Control Themes"}),"."]}),"\n",(0,o.jsx)(t.p,{children:"Control themes are themselves styles, but with some important differences:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Control themes don't have a selector: instead they have a ",(0,o.jsx)(t.code,{children:"TargetType"})," property which describes the control that they target"]}),"\n",(0,o.jsxs)(t.li,{children:["Control themes are stored in a ",(0,o.jsx)(t.code,{children:"ResourceDictionary"})," instead of a ",(0,o.jsx)(t.code,{children:"Styles"})," collection"]}),"\n",(0,o.jsxs)(t.li,{children:["Control themes are assigned to a control by setting the ",(0,o.jsx)(t.code,{children:"Theme"})," property, usually using the ",(0,o.jsx)(t.code,{children:"{StaticResource}"})," markup extension"]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["Control themes are typically applied to ",(0,o.jsx)(t.a,{href:"/avalonia-docs/docs/basics/user-interface/controls/creating-controls/choosing-a-custom-control-type",children:"templated (lookless)"})," controls, but they can actually be applied to any control. However, for non-templated controls, it is often more convenient to use standard styles instead."]})}),"\n",(0,o.jsx)(t.h2,{id:"example-round-button",children:"Example: Round Button"}),"\n",(0,o.jsxs)(t.p,{children:["The following example shows a simple ",(0,o.jsx)(t.code,{children:"Button"})," theme which displays a button with an ellipse background with a 90's geocities aesthetic:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-xml",metastring:'title="App.axaml"',children:'<Application xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             x:Class="AvaloniaApplication.App">\n  <Application.Styles>\n    <FluentTheme />\n  </Application.Styles>\n\n  <Application.Resources>\n    // highlight-start\n    <ControlTheme x:Key="EllipseButton" TargetType="Button">\n      <Setter Property="Background" Value="Blue"/>\n      <Setter Property="Foreground" Value="Yellow"/>\n      <Setter Property="Padding" Value="8"/>\n      <Setter Property="Template">\n        <ControlTemplate>\n          <Panel>\n            <Ellipse Fill="{TemplateBinding Background}"\n                     HorizontalAlignment="Stretch"\n                     VerticalAlignment="Stretch"/>\n            <ContentPresenter x:Name="PART_ContentPresenter"\n                              Content="{TemplateBinding Content}"\n                              Margin="{TemplateBinding Padding}"/>\n          </Panel>\n        </ControlTemplate>\n      </Setter>\n    </ControlTheme>\n    // highlight-end\n  </Application.Resources>\n</Application>\n'})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-xml",metastring:"title='MainWindow.xaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x=\'http://schemas.microsoft.com/winfx/2006/xaml\'\n        x:Class="Sandbox.MainWindow">\n  // highlight-start\n  <Button Theme="{StaticResource EllipseButton}"\n          HorizontalAlignment="Center"\n          VerticalAlignment="Center">\n    Hello World!\n  </Button>\n  // highlight-end\n</Window>\n'})}),"\n",(0,o.jsx)("p",{children:(0,o.jsx)("img",{className:"medium-image-zoom",src:i,alt:"Ellipse Button"})}),"\n",(0,o.jsx)(t.h2,{id:"interaction-in-control-themes",children:"Interaction in Control Themes"}),"\n",(0,o.jsxs)(t.p,{children:["Like standard styles, control themes support ",(0,o.jsx)(t.a,{href:"/avalonia-docs/docs/basics/user-interface/styling/styles#nesting-styles",children:"nested styles"})," which can be used to add interactions such as pointer-over and pressed states."]}),"\n",(0,o.jsx)(t.h2,{id:"example-round-button-hover-state",children:"Example: Round Button Hover State"}),"\n",(0,o.jsx)(t.p,{children:"Using nested styles we can make our button change color when the pointer is hovered over it:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-xml",metastring:'title="App.axaml"',children:'<Application xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             x:Class="AvaloniaApplication.App">\n  <Application.Styles>\n    <FluentTheme />\n  </Application.Styles>\n\n  <Application.Resources>\n    <ControlTheme x:Key="EllipseButton" TargetType="Button">\n      <Setter Property="Background" Value="Blue"/>\n      <Setter Property="Foreground" Value="Yellow"/>\n      <Setter Property="Padding" Value="8"/>\n      <Setter Property="Template">\n        <ControlTemplate>\n          <Panel>\n            <Ellipse Fill="{TemplateBinding Background}"\n                     HorizontalAlignment="Stretch"\n                     VerticalAlignment="Stretch"/>\n            <ContentPresenter x:Name="PART_ContentPresenter"\n                              Content="{TemplateBinding Content}"\n                              Margin="{TemplateBinding Padding}"/>\n          </Panel>\n        </ControlTemplate>\n      </Setter>\n      \n      // highlight-start\n      <Style Selector="^:pointerover">\n        <Setter Property="Background" Value="Red"/>\n        <Setter Property="Foreground" Value="White"/>\n      </Style>\n      // highlight-end\n    </ControlTheme>\n  </Application.Resources>\n</Application>\n'})}),"\n",(0,o.jsx)(t.h2,{id:"control-theme-lookup",children:"Control Theme Lookup"}),"\n",(0,o.jsx)(t.p,{children:"There a two ways in which a control theme can be found:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["If the control's ",(0,o.jsx)(t.code,{children:"Theme"})," property is set, then that control theme will be used; otherwise"]}),"\n",(0,o.jsxs)(t.li,{children:["Avalonia will search the upwards through the logical tree for a ",(0,o.jsx)(t.code,{children:"ControlTheme"})," resource with an ",(0,o.jsx)(t.code,{children:"x:Key"})," which matches the control's ",(0,o.jsx)(t.a,{href:"styles#style-key",children:"style key"})]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["If you're having trouble getting Avalonia to find your theme, make sure it's returning a ",(0,o.jsx)(t.a,{href:"styles#style-key",children:"style key"})," which matches the ",(0,o.jsx)(t.code,{children:"x:Key"})," and ",(0,o.jsx)(t.code,{children:"TargetType"})," of your control theme"]})}),"\n",(0,o.jsx)(t.p,{children:"In effect this means that you have two choices for how to define your control theme:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"If you want the control theme to apply to all instances of the control"})," then use an ",(0,o.jsx)(t.code,{children:"{x:Type}"})," as the resource key. For example\n",(0,o.jsx)(t.code,{children:'<ControlTheme x:Key="{x:Type Button}" TargetType="Button">'})]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"If you want the control theme to be applied to selected instances of the control"})," then use anything else as the resource key and look up this resource using ",(0,o.jsx)(t.code,{children:"{StaticResource}"}),". Commonly this key will be a ",(0,o.jsx)(t.code,{children:"string"})]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsx)(t.p,{children:"Notice that this means that only a single control theme can be applied to a control at any one time."})}),"\n",(0,o.jsx)(t.h2,{id:"example-make-all-the-buttons-round",children:"Example: Make all the Buttons Round"}),"\n",(0,o.jsxs)(t.p,{children:["We can apply our new control theme to all of the buttons in the application by simply changing the ",(0,o.jsx)(t.code,{children:"x:Key"})," of the control theme to match the ",(0,o.jsx)(t.code,{children:"Button"})," type."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-xml",metastring:'title="App.axaml"',children:'<Application xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             x:Class="AvaloniaApplication.App">\n  <Application.Styles>\n    <FluentTheme />\n  </Application.Styles>\n\n  <Application.Resources>\n      // highlight-next-line\n    <ControlTheme x:Key="{x:Type Button}" TargetType="Button">\n      <Setter Property="Background" Value="Blue"/>\n      <Setter Property="Foreground" Value="Yellow"/>\n      <Setter Property="Padding" Value="8"/>\n      <Setter Property="Template">\n        <ControlTemplate>\n          <Panel>\n            <Ellipse Fill="{TemplateBinding Background}"\n                     HorizontalAlignment="Stretch"\n                     VerticalAlignment="Stretch"/>\n            <ContentPresenter x:Name="PART_ContentPresenter"\n                              Content="{TemplateBinding Content}"\n                              Margin="{TemplateBinding Padding}"/>\n          </Panel>\n        </ControlTemplate>\n      </Setter>\n      \n      <Style Selector="^:pointerover">\n        <Setter Property="Background" Value="Red"/>\n        <Setter Property="Foreground" Value="White"/>\n      </Style>\n    </ControlTheme>\n  </Application.Resources>\n</Application>\n'})}),"\n",(0,o.jsx)(t.h2,{id:"targettype",children:"TargetType"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"ControlTheme.TargetType"})," property specifies the type to which setter properties apply. If you don't specify a ",(0,o.jsx)(t.code,{children:"TargetType"}),", you must qualify the properties in your Setter objects with a class name by using the syntax ",(0,o.jsx)(t.code,{children:'Property="ClassName.Property"'}),'. For example, instead of setting Property="FontSize", you must set Property to ',(0,o.jsx)(t.code,{children:"TextBlock.FontSize"})," or ",(0,o.jsx)(t.code,{children:"Control.FontSize"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.a,{href:"https://github.com/AvaloniaUI/AvaloniaUI.QuickGuides/tree/main/ButtonCustomize",children:"ButtonCustomize"})," sample has an ",(0,o.jsx)(t.code,{children:"WinClassicButtonTheme"})]}),"\n",(0,o.jsxs)(t.li,{children:["You can see the control themes for the inbuilt Avalonia controls here:","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://github.com/AvaloniaUI/Avalonia/tree/master/src/Avalonia.Themes.Simple/Controls",children:"Simple Theme"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://github.com/AvaloniaUI/Avalonia/tree/master/src/Avalonia.Themes.Fluent/Controls",children:"Fluent Theme"})}),"\n"]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>s});var o=n(67294);const l={},i=o.createContext(l);function s(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);