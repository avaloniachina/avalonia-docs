"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[36078],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},v=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),v=o,f=d["".concat(l,".").concat(v)]||d[v]||p[v]||a;return n?r.createElement(f,i(i({ref:t},u),{},{components:n})):r.createElement(f,i({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=v;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}v.displayName="MDXCreateElement"},34234:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var r=n(87462),o=(n(67294),n(3905));const a={},i="Defining Events",s={unversionedId:"basics/user-interface/controls/creating-controls/defining-events",id:"basics/user-interface/controls/creating-controls/defining-events",title:"Defining Events",description:"Events in Avalonia allow your custom controls to communicate and notify users of specific actions or occurrences. By defining events, you provide a way for users of your controls to respond and react to these events within their applications. This document will guide you through the process of defining events for your custom controls.",source:"@site/docs/basics/user-interface/controls/creating-controls/defining-events.md",sourceDirName:"basics/user-interface/controls/creating-controls",slug:"/basics/user-interface/controls/creating-controls/defining-events",permalink:"/avalonia-docs/docs/next/basics/user-interface/controls/creating-controls/defining-events",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/basics/user-interface/controls/creating-controls/defining-events.md",tags:[],version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Defining Properties",permalink:"/avalonia-docs/docs/next/basics/user-interface/controls/creating-controls/defining-properties"},next:{title:"Defining a ControlTheme",permalink:"/avalonia-docs/docs/next/basics/user-interface/controls/creating-controls/control-themes"}},l={},c=[{value:"Routed Event",id:"routed-event",level:2},{value:"Example",id:"example",level:2},{value:"Further Reading",id:"further-reading",level:2}],u={toc:c},d="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"defining-events"},"Defining Events"),(0,o.kt)("p",null,"Events in Avalonia allow your custom controls to communicate and notify users of specific actions or occurrences. By defining events, you provide a way for users of your controls to respond and react to these events within their applications. This document will guide you through the process of defining events for your custom controls."),(0,o.kt)("h2",{id:"routed-event"},"Routed Event"),(0,o.kt)("p",null,'Routed events in Avalonia offer a mechanism for handling events that can travel (or "route") through the control tree, allowing multiple controls to respond to the same event. Routed events provide the following key features:'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Event Routing"),": Routed events can propagate up the tree (bubbling) or down the tree (tunneling), enabling controls at different levels to handle the same event. This allows for more flexible and centralized event handling.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Event Handlers"),": Routed events use event handlers to respond to events. Event handlers are associated with specific controls or can be attached at higher levels in the visual tree to handle events from multiple controls.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Handled State"),": Routed events have a ",(0,o.kt)("inlineCode",{parentName:"p"},"Handled")," property that can be used to mark an event as handled, preventing further propagation. This allows fine-grained control over event handling.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Event Routing Strategies"),": Avalonia supports different routing strategies for routed events, such as bubbling, tunneling, and direct routing. These strategies determine the order in which controls receive and handle events.\nAvalonia routed events are particularly useful when you need to handle events that may occur within nested controls or when you want to centralize event handling logic higher up in the visual tree."))),(0,o.kt)("h2",{id:"example"},"Example"),(0,o.kt)("p",null,"Here's an example of how to define a routed event for a hypothetical custom slider control:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"public class MyCustomSlider : Control\n{\n    public static readonly RoutedEvent<RoutedEventArgs> ValueChangedEvent =\n        RoutedEvent.Register<MyCustomSlider, RoutedEventArgs>(nameof(ValueChanged));\n\n    public event EventHandler<RoutedEventArgs> ValueChanged\n    {\n        add => AddHandler(ValueChangedEvent, value);\n        remove => RemoveHandler(ValueChangedEvent, value);\n    }\n\n    protected virtual void OnValueChanged()\n    {\n        RoutedEventArgs args = new RoutedEventArgs(ValueChangedEvent);\n        RaiseEvent(args);\n    }\n}\n")),(0,o.kt)("p",null,"In this example, a custom routed event called ",(0,o.kt)("inlineCode",{parentName:"p"},"ValueChangedEvent")," is defined for the ",(0,o.kt)("inlineCode",{parentName:"p"},"MyCustomSlider")," control. The event is registered using the ",(0,o.kt)("inlineCode",{parentName:"p"},"RoutedEvent")," system, allowing it to be subscribed by users of the control. A CLR event is also defined for convenience, allowing the event to be consumed in manner consistent with standard .NET APIs."),(0,o.kt)("h2",{id:"further-reading"},"Further Reading"),(0,o.kt)("p",null,"For more information see the ",(0,o.kt)("a",{parentName:"p",href:"/avalonia-docs/docs/next/concepts/input/routed-events"},"Routed Events Deep Dive")))}p.isMDXComponent=!0}}]);