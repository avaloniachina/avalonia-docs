"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[40631],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var i=n.createContext({}),p=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(r),y=a,h=u["".concat(i,".").concat(y)]||u[y]||d[y]||o;return r?n.createElement(h,l(l({ref:t},c),{},{components:r})):n.createElement(h,l({ref:t},c))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,l=new Array(o);l[0]=y;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[u]="string"==typeof e?e:a,l[1]=s;for(var p=2;p<o;p++)l[p]=r[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}y.displayName="MDXCreateElement"},7724:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var n=r(87462),a=(r(67294),r(3905));const o={id:"property-setters",title:"Property Setters"},l="Property Setters",s={unversionedId:"guides/styles-and-resources/property-setters",id:"guides/styles-and-resources/property-setters",title:"Property Setters",description:"The setters in a style define what properties will be changed after Avalonia UI has matched the control in the logical control tree using the the selector, and determined which style is to be used. Setters are simple property and value attribute pairs in the XAML, written in the format:",source:"@site/docs/guides/styles-and-resources/property-setters.md",sourceDirName:"guides/styles-and-resources",slug:"/guides/styles-and-resources/property-setters",permalink:"/avalonia-docs/docs/next/guides/styles-and-resources/property-setters",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/guides/styles-and-resources/property-setters.md",tags:[],version:"current",frontMatter:{id:"property-setters",title:"Property Setters"},sidebar:"documentationSidebar",previous:{title:"Style Selectors",permalink:"/avalonia-docs/docs/next/guides/styles-and-resources/selectors"},next:{title:"How to Use Included Styles",permalink:"/avalonia-docs/docs/next/guides/styles-and-resources/how-to-use-included-styles"}},i={},p=[{value:"Style Priority",id:"style-priority",level:2},{value:"Value Reversion",id:"value-reversion",level:2},{value:"Mutable Values",id:"mutable-values",level:2},{value:"Setter Data Templates",id:"setter-data-templates",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"property-setters"},"Property Setters"),(0,a.kt)("p",null,"The setters in a style define what properties will be changed after ",(0,a.kt)("em",{parentName:"p"},"Avalonia UI")," has matched the control in the logical control tree using the the selector, and determined which style is to be used. Setters are simple property and value attribute pairs in the XAML, written in the format:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<Setter Property="propertyName" Value="newValueString"/>\n')),(0,a.kt)("p",null,"For example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-markup"},'<Setter Property="FontSize" Value="24"/>\n<Setter Property="Padding" Value="4 2 0 4"/>\n')),(0,a.kt)("p",null,"You can also use a long-form syntax to set a control property to an object with several properties set, like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-markup"},'<Setter Property="MyProperty">\n   <MyObject Property1="My Value" Property2="999"/>\n</Setter>\n')),(0,a.kt)("p",null,"A style can also set properties using bindings. After the usual selection process, this causes ",(0,a.kt)("em",{parentName:"p"},"Avalonia UI")," to use a value from data context of the target control. For example, the setter can be defined like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-markup"},'<Setter Property="FontSize" Value="{Binding SelectedFontSize}"/>\n')),(0,a.kt)("h2",{id:"style-priority"},"Style Priority"),(0,a.kt)("p",null,"There are two rules that govern which property setter has precedence when a selector matches multiple styles:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Position of the enclosing styles collection in the application - 'closest' has priority."),(0,a.kt)("li",{parentName:"ul"},"Position of the style in the located styles collection - 'latest' has priority.")),(0,a.kt)("p",null,"For example, firstly this means that styles defined at window level will override those defined at application level. Secondly, this means that where the selected style collections are at the same level, then the later definition (as written in the file) has priority."),(0,a.kt)("admonition",{type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"If you were comparing style classes to CSS you must note that: ",(0,a.kt)("strong",{parentName:"p"},"unlike CSS"),", the list sequence of class names in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Classes")," attribute has no effect on setter priority in ",(0,a.kt)("em",{parentName:"p"},"Avalonia UI"),". That is, if both these style classes set the colour, then either way of listing the classes has the same result:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre"},'<Button Classes="h1 blue"/>\n<Button Classes="blue h1"/>\n'))),(0,a.kt)("h2",{id:"value-reversion"},"Value Reversion"),(0,a.kt)("p",null,"Whenever a style is matched with a control, all of the setters will be applied to the control. If a style selector causes the style to no longer match a control, the property value will revert to the its next highest priority value."),(0,a.kt)("h2",{id:"mutable-values"},"Mutable Values"),(0,a.kt)("p",null,"Note that the ",(0,a.kt)("inlineCode",{parentName:"p"},"Setter")," creates a single instance of ",(0,a.kt)("inlineCode",{parentName:"p"},"Value")," which will be applied to all controls that the style matches: if the object is mutable then changes will be reflected on all controls."," "),(0,a.kt)("p",null,"Also note that bindings on an object defined in a setter value will not have access to the target control's data context. This is because there may be multiple target controls. This scenario may arise with a style defined like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-markup"},'<Style Selector="local|MyControl">\n  <Setter Property="MyProperty">\n     <MyObject Property1="{Binding MyViewModelProperty}"/>\n  </Setter>\n</Style>\n')),(0,a.kt)("p",null,"This means that in the example above, the binding source for the setter will be ",(0,a.kt)("inlineCode",{parentName:"p"},"MyObject.DataContext"),", and not ",(0,a.kt)("inlineCode",{parentName:"p"},"MyControl.DataContext"),". Also if ",(0,a.kt)("inlineCode",{parentName:"p"},"MyObject")," has no data context then the binding will unable to produce a value."),(0,a.kt)("p",null,"Note: if you are using compiled bindings, you need to explicitly set the data type of the binding source in the ",(0,a.kt)("inlineCode",{parentName:"p"},"<Style>")," element:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-markup"},'<Style Selector="MyControl" x:DataType="MyViewModelClass">\n  <Setter Property="ControlProperty" Value="{Binding MyViewModelProperty}" />\n</Style>\n')),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"For more information about compiled bindings, see here. --\x3e TO DO")),(0,a.kt)("h2",{id:"setter-data-templates"},"Setter Data Templates"),(0,a.kt)("p",null,"As previously described here, when you use a setter without a ",(0,a.kt)("strong",{parentName:"p"},"data template"),", a single instance of the setter value is created and shared across all matching controls. To change the value depending on a data template, you place the target control inside a template element, like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-markup"},'<Style Selector="Border.empty">\n  <Setter Property="Child">\n    <Template>\n      <TextBlock>No content available.</TextBlock>\n    </Template>\n  </Setter>\n</Style>\n')),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"For information about the concepts behind a ",(0,a.kt)("strong",{parentName:"p"},"data template"),", see ",(0,a.kt)("a",{parentName:"p",href:"../../concepts/templates"},"here"),".")))}d.isMDXComponent=!0}}]);