"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[54905],{794:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>r,contentTitle:()=>s,default:()=>b,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var t=a(85893),o=a(11151);const i={id:"binding-to-tasks-and-observables",title:"Binding to Tasks and Observables"},s=void 0,d={id:"data-binding/binding-to-tasks-and-observables",title:"Binding to Tasks and Observables",description:"You can subscribe to the result of a task or an observable by using the ^ stream binding operator.",source:"@site/versioned_docs/version-0.10.x/data-binding/binding-to-tasks-and-observables.md",sourceDirName:"data-binding",slug:"/data-binding/binding-to-tasks-and-observables",permalink:"/avalonia-docs/docs/0.10.x/data-binding/binding-to-tasks-and-observables",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/versioned_docs/version-0.10.x/data-binding/binding-to-tasks-and-observables.md",tags:[],version:"0.10.x",frontMatter:{id:"binding-to-tasks-and-observables",title:"Binding to Tasks and Observables"},sidebar:"documentationSidebar",previous:{title:"Binding to Commands",permalink:"/avalonia-docs/docs/0.10.x/data-binding/binding-to-commands"},next:{title:"Binding from Code",permalink:"/avalonia-docs/docs/0.10.x/data-binding/binding-from-code"}},r={},l=[{value:"Example 1: Binding to an observable",id:"example-1-binding-to-an-observable",level:2},{value:"Example 2: Binding to a task",id:"example-2-binding-to-a-task",level:2}];function c(n){const e={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.p,{children:["You can subscribe to the result of a task or an observable by using the ",(0,t.jsx)(e.code,{children:"^"})," stream binding operator."]}),"\n",(0,t.jsx)(e.h2,{id:"example-1-binding-to-an-observable",children:"Example 1: Binding to an observable"}),"\n",(0,t.jsxs)(e.p,{children:["For example if ",(0,t.jsx)(e.code,{children:"DataContext.Name"})," is an ",(0,t.jsx)(e.code,{children:"IObservable<string>"})," then the following example will bind to the length of each string produced by the observable as each value is produced"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-markup",children:'<TextBlock Text="{Binding Name^.Length}"/>\n'})}),"\n",(0,t.jsx)(e.h2,{id:"example-2-binding-to-a-task",children:"Example 2: Binding to a task"}),"\n",(0,t.jsxs)(e.p,{children:["If you need to do some heavy work to load the content of a property you can bind to the result of an ",(0,t.jsx)(e.code,{children:"async Task<TResult>"})]}),"\n",(0,t.jsx)(e.p,{children:"Consider you have the following view model which generates some text in a long running process:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'public Task<string> MyAsyncText => GetTextAsync();\n\nprivate async Task<string> GetTextAsync()\n{\n  await Task.Delay(1000); // The delay is just for demonstration purpose\n  return "Hello from async operation";\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"You can bind to the result in the following way:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-markup",children:"<TextBlock Text=\"{Binding MyAsyncText^, FallbackValue='Wait a second'}\" />\n"})}),"\n",(0,t.jsx)(e.admonition,{type:"info",children:(0,t.jsxs)(e.p,{children:["Note: You can use ",(0,t.jsx)(e.code,{children:"FallbackValue"})," to display some loading indicator."]})})]})}function b(n={}){const{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}},11151:(n,e,a)=>{a.d(e,{Z:()=>d,a:()=>s});var t=a(67294);const o={},i=t.createContext(o);function s(n){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);