"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[25001],{85012:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var i=t(85893),o=t(11151);const s=t.p+"assets/images/pressed-8e186992e7255d691861dfb44876db04.gif",r={description:"CONCEPTS - Input"},a="Mouse and Pointer Devices",d={id:"concepts/input/pointer",title:"Mouse and Pointer Devices",description:"CONCEPTS - Input",source:"@site/docs/concepts/input/pointer.md",sourceDirName:"concepts/input",slug:"/concepts/input/pointer",permalink:"/avalonia-docs/docs/concepts/input/pointer",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/concepts/input/pointer.md",tags:[],version:"current",frontMatter:{description:"CONCEPTS - Input"},sidebar:"documentationSidebar",previous:{title:"Routed Events",permalink:"/avalonia-docs/docs/concepts/input/routed-events"},next:{title:"Gestures",permalink:"/avalonia-docs/docs/concepts/input/gestures"}},l={},c=[{value:"Pointer Position",id:"pointer-position",level:2},{value:"Tap Events",id:"tap-events",level:2},{value:"More Information",id:"more-information",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"mouse-and-pointer-devices",children:"Mouse and Pointer Devices"}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.em,{children:"Avalonia UI"})," you implement the interaction of pointing devices with your application using a 'pointer' abstraction. This can represent devices including, but not limited to a mouse, touchpad, and pen. ",(0,i.jsx)(n.em,{children:"Avalonia UI"})," controls have events that allow you to subscribe to pointer movements, clicks and wheel movements. These are as follows:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"PointerEnter"}),"\n",(0,i.jsx)(n.li,{children:"PointerLeave"}),"\n",(0,i.jsx)(n.li,{children:"PointerMoved"}),"\n",(0,i.jsx)(n.li,{children:"PointerPressed"}),"\n",(0,i.jsx)(n.li,{children:"PointerReleased"}),"\n",(0,i.jsx)(n.li,{children:"PointerWheelChanged"}),"\n",(0,i.jsx)(n.li,{children:"Tapped"}),"\n",(0,i.jsx)(n.li,{children:"DoubleTapped"}),"\n",(0,i.jsx)(n.li,{children:"Holding"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For example, you can subscribe to the event for one of the pointer buttons being pressed on a control, like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",metastring:"title='C#'",children:'private void PointerPressedHandler (object sender, PointerPressedEventArgs args)\n{\n    var point = args.GetCurrentPoint(sender as Control);\n    var x = point.Position.X;\n    var y = point.Position.Y;\n    var msg = $"Pointer press at {x}, {y} relative to sender.";\n    if (point.Properties.IsLeftButtonPressed)\n    {\n        msg += " Left button pressed.";\n    }\n    if (point.Properties.IsRightButtonPressed)\n    {\n        msg += " Right button pressed.";\n    }\n    results.Text = msg ;\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",metastring:"title='XAML'",children:'<StackPanel Margin="20" Background="AliceBlue" \n                PointerPressed="PointerPressedHandler" >\n  <TextBlock x:Name="results" Margin="5">Ready...</TextBlock>\n</StackPanel>\n'})}),"\n",(0,i.jsx)("img",{src:s,alt:""}),"\n",(0,i.jsx)(n.h2,{id:"pointer-position",children:"Pointer Position"}),"\n",(0,i.jsxs)(n.p,{children:["In the example above, the pointer coordinates (",(0,i.jsx)(n.code,{children:"x"})," and ",(0,i.jsx)(n.code,{children:"y"}),") have been calculated relative to the sender control origin (top, left), in this case the stack panel. If you want the coordinates relative to the containing window, then you can use the ",(0,i.jsx)(n.code,{children:"GetCurrentPoint"})," method as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"var point = args.GetCurrentPoint(this);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"tap-events",children:"Tap Events"}),"\n",(0,i.jsxs)(n.p,{children:["Controls also have special gesture events, these are: ",(0,i.jsx)(n.code,{children:"Tapped"}),", ",(0,i.jsx)(n.code,{children:"DoubleTapped"})," and ",(0,i.jsx)(n.code,{children:"Holding"}),". The tapped event is raised after the pointer is pressed on the control and then released. Double tapped is raised after pointer is pressed twice in the same place."]}),"\n",(0,i.jsxs)(n.p,{children:["Holding is raised after the pointer is pressed for a set duration. The duration to hold for is defined in the ",(0,i.jsx)(n.code,{children:"HoldWaitDuration"})," property in ",(0,i.jsx)(n.code,{children:"TopLevel"})," PlatformSettings. Holding can be enabled on a control by setting the ",(0,i.jsx)(n.code,{children:"Gestures.IsHoldingEnabled"})," attached property. When the hold duration has elapsed, the control's ",(0,i.jsx)(n.code,{children:"HoldingEvent"})," is raised with the args' ",(0,i.jsx)(n.code,{children:"HoldingState"})," set to ",(0,i.jsx)(n.code,{children:"HoldingState.Started"}),". On pointer release, the event is raised again with ",(0,i.jsx)(n.code,{children:"HoldingState.Completed"})," state. If a new gesture is initiated or a second pointer is pressed while ",(0,i.jsx)(n.code,{children:"Holding"})," has started, the ",(0,i.jsx)(n.code,{children:"Holding"})," gesture is cancelled and a ",(0,i.jsx)(n.code,{children:"HoldingEvent"})," is raised with the ",(0,i.jsx)(n.code,{children:"HoldingState.Cancelled"})," state. Holding can also be initiated using the mouse pointer, by setting the ",(0,i.jsx)(n.code,{children:"Gestures.IsHoldWithMouseEnabled"})," attached property on the control."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Note that the maximum distance between a first and second tap, and the time delay between them, will depend on the target platform and usually is bigger for touch devices."})}),"\n",(0,i.jsx)(n.h2,{id:"more-information",children:"More Information"}),"\n",(0,i.jsxs)(n.p,{children:["For the complete API documentation about pointer and tap events, see ",(0,i.jsx)(n.a,{href:"http://reference.avaloniaui.net/api/Avalonia.Input/PointerEventArgs/",children:"here"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>r});var i=t(67294);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);