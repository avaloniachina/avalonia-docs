"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[59789],{58055:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>a,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var i=n(85893),s=n(11151);n(31673);const o={id:"code-with-controls",title:"Code With Controls"},r=void 0,l={id:"get-started/test-drive/code-with-controls",title:"Code With Controls",description:"The action you will implement here is to update the Fahrenheit temperature control, using the value of the celsius control, and a simple formula, whenever the button is clicked.",source:"@site/docs/get-started/test-drive/code-with-controls.md",sourceDirName:"get-started/test-drive",slug:"/get-started/test-drive/code-with-controls",permalink:"/avalonia-docs/docs/get-started/test-drive/code-with-controls",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/get-started/test-drive/code-with-controls.md",tags:[],version:"current",frontMatter:{id:"code-with-controls",title:"Code With Controls"},sidebar:"documentationSidebar",previous:{title:"Respond to an Event",permalink:"/avalonia-docs/docs/get-started/test-drive/respond-to-an-event"},next:{title:"Migrating from WPF",permalink:"/avalonia-docs/docs/get-started/wpf/"}},c={},d=[{value:"Control Names",id:"control-names",level:2},{value:"Get Control Values in Code-behind",id:"get-control-values-in-code-behind",level:2},{value:"Set Control Values in Code-behind",id:"set-control-values-in-code-behind",level:2},{value:"Exercises",id:"exercises",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["The action you will implement here is to update the Fahrenheit temperature control, using the value of the ",(0,i.jsx)(t.code,{children:"celsius"})," control, and a simple formula, whenever the button is clicked."]}),"\n",(0,i.jsx)(t.h2,{id:"control-names",children:"Control Names"}),"\n",(0,i.jsx)(t.p,{children:"When Avalonia creates the main window at runtime, it also creates objects for each of the controls defined in the window. Your code can access the controls at runtime, but to access them, it will need some control names."}),"\n",(0,i.jsx)(t.p,{children:"To add some control names, follow this procedure:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Stop the app if it is running."}),"\n",(0,i.jsxs)(t.li,{children:["Locate the ",(0,i.jsx)(t.code,{children:"TextBox"})," for Celsius."]}),"\n",(0,i.jsx)(t.li,{children:"Add the name attribute like this:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:'<TextBox ... Name="celsius"/>\n'})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Repeat the above for the Fahrenheit input:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:'<TextBox ... Name="fahrenheit"/>\n'})}),"\n",(0,i.jsx)(t.h2,{id:"get-control-values-in-code-behind",children:"Get Control Values in Code-behind"}),"\n",(0,i.jsxs)(t.p,{children:["To demonstrate access to the text value of the ",(0,i.jsx)(t.code,{children:"celsius"})," input, follow this procedure:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Switch to the ",(0,i.jsx)(t.strong,{children:"MainWindow.axaml.cs"})," code-behind file."]}),"\n",(0,i.jsxs)(t.li,{children:["Locate the ",(0,i.jsx)(t.code,{children:"ButtonClicked"})," event handler."]}),"\n",(0,i.jsxs)(t.li,{children:["Alter the ",(0,i.jsx)(t.code,{children:"Debug"})," statement to display the text property of the ",(0,i.jsx)(t.code,{children:"celsius"})," input, like this:"]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'Debug.WriteLine($"Click! Celsius={celsius.Text}");\n'})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Run the app to confirm that you can see the value in the Celsius appear in the debug window."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"set-control-values-in-code-behind",children:"Set Control Values in Code-behind"}),"\n",(0,i.jsx)(t.p,{children:"To use the simple formula that converts Celsius temperature to Fahrenheit, you will first need to ensure that the Celsius input text converts to a number. The formula is then:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Tf = Tc * (9/5) + 32\n"})}),"\n",(0,i.jsx)(t.p,{children:"To add the conversion formula, follow this procedure:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Locate the ",(0,i.jsx)(t.code,{children:"ButtonClicked"})," event handler."]}),"\n",(0,i.jsx)(t.li,{children:"Alter the code in the event handler to check that the Celsius input text converts to a number."}),"\n",(0,i.jsx)(t.li,{children:"Alter the code to include the conversion formula."}),"\n",(0,i.jsx)(t.li,{children:"Update the text in the Fahrenheit input to the result of the conversion formula."}),"\n",(0,i.jsx)(t.li,{children:"Run the app to check your work."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"One implementation of the above is as follows:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'if (Double.TryParse(celsius.Text, out double C))\n{\n    var F = C * (9d / 5d) + 32;\n    fahrenheit.Text = F.ToString("0.0");\n}\nelse\n{\n    celsius.Text = "0";\n    fahrenheit.Text = "0";\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"You can check your work using the following conversion table:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Celsius"}),(0,i.jsx)(t.th,{children:"Farenheit"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"-10"}),(0,i.jsx)(t.td,{children:"14.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"0"}),(0,i.jsx)(t.td,{children:"32.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"10"}),(0,i.jsx)(t.td,{children:"50.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"21"}),(0,i.jsx)(t.td,{children:"69.8"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"25"}),(0,i.jsx)(t.td,{children:"77.0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"32"}),(0,i.jsx)(t.td,{children:"89.6"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"You have now used an event handler to get and set control properties at runtime. You could now try some of these exercises:"}),"\n",(0,i.jsx)(t.li,{children:"Stop showing the gridlines (easy)."}),"\n",(0,i.jsxs)(t.li,{children:["Stop the user changing the text in the Fahrenheit input by setting the ",(0,i.jsx)(t.code,{children:"IsReadOnly"})," attribute (easy)."]}),"\n",(0,i.jsx)(t.li,{children:"Calculate the conversion as the user types into the Celsius input (moderate)."}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsxs)(t.p,{children:["For full information about the complete range of Avalonia built-in controls, events and attributes, see the controls reference section ",(0,i.jsx)(t.a,{href:"../../reference/controls/",children:"here"}),"."]})})]})}function a(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},31673:(e,t,n)=>{n.d(t,{Z:()=>s});n(67294);var i=n(85893);function s(e){let{children:t,color:n}=e;return(0,i.jsx)("span",{style:{color:n,borderRadius:"2px",padding:"0.2rem"},children:t})}},11151:(e,t,n)=>{n.d(t,{Z:()=>l,a:()=>r});var i=n(67294);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);