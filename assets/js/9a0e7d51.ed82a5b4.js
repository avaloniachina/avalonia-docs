"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[42575],{3905:(e,r,n)=>{n.d(r,{Zo:()=>u,kt:()=>h});var o=n(67294);function t(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function i(e,r){if(null==e)return{};var n,o,t=function(e,r){if(null==e)return{};var n,o,t={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var l=o.createContext({}),c=function(e){var r=o.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):s(s({},r),e)),n},u=function(e){var r=c(e.components);return o.createElement(l.Provider,{value:r},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var r=e.children;return o.createElement(o.Fragment,{},r)}},m=o.forwardRef((function(e,r){var n=e.components,t=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=t,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||a;return n?o.createElement(h,s(s({ref:r},u),{},{components:n})):o.createElement(h,s({ref:r},u))}));function h(e,r){var n=arguments,t=r&&r.mdxType;if("string"==typeof e||t){var a=n.length,s=new Array(a);s[0]=m;var i={};for(var l in r)hasOwnProperty.call(r,l)&&(i[l]=r[l]);i.originalType=e,i[d]="string"==typeof e?e:t,s[1]=i;for(var c=2;c<a;c++)s[c]=n[c];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},93135:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var o=n(87462),t=(n(67294),n(3905));const a={id:"resources",title:"Resources"},s=void 0,i={unversionedId:"styling/resources",id:"version-0.10.x/styling/resources",title:"Resources",description:"Often, styles and controls will need to share resources such as \\(but not limited to\\) brushes and colors. You can put such resources in the Resources dictionary which is available on every style and control and then refer to these resources elsewhere.",source:"@site/versioned_docs/version-0.10.x/styling/resources.md",sourceDirName:"styling",slug:"/styling/resources",permalink:"/avalonia-docs/docs/styling/resources",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/versioned_docs/version-0.10.x/styling/resources.md",tags:[],version:"0.10.x",frontMatter:{id:"resources",title:"Resources"},sidebar:"documentationSidebar",previous:{title:"Selectors",permalink:"/avalonia-docs/docs/styling/selectors"},next:{title:"Troubleshooting",permalink:"/avalonia-docs/docs/styling/troubleshooting"}},l={},c=[{value:"Declaring resources",id:"declaring-resources",level:2},{value:"Referencing resources",id:"referencing-resources",level:2},{value:"Overriding resources",id:"overriding-resources",level:2},{value:"Merged resource dictionaries",id:"merged-resource-dictionaries",level:2},{value:"Resource resolution",id:"resource-resolution",level:2},{value:"Theme resources",id:"theme-resources",level:2}],u={toc:c},d="wrapper";function p(e){let{components:r,...n}=e;return(0,t.kt)(d,(0,o.Z)({},u,n,{components:r,mdxType:"MDXLayout"}),(0,t.kt)("p",null,"Often, styles and controls will need to share resources such as ","(","but not limited to",")"," brushes and colors. You can put such resources in the ",(0,t.kt)("inlineCode",{parentName:"p"},"Resources")," dictionary which is available on every style and control and then refer to these resources elsewhere."),(0,t.kt)("h2",{id:"declaring-resources"},"Declaring resources"),(0,t.kt)("p",null,"If a resource is to be available to your entire application, you can define it in ",(0,t.kt)("inlineCode",{parentName:"p"},"App.xaml"),"/",(0,t.kt)("inlineCode",{parentName:"p"},"App.axaml"),":"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-markup"},'<Application xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             x:Class="MyApp.App">\n  <Application.Resources>\n    <SolidColorBrush x:Key="Warning">Yellow</SolidColorBrush>\n  </Application.Resources>\n</Application>\n')),(0,t.kt)("p",null,"Alternatively you can declare resources on a ",(0,t.kt)("inlineCode",{parentName:"p"},"Window")," or ",(0,t.kt)("inlineCode",{parentName:"p"},"UserControl"),": the resource will be available to the ",(0,t.kt)("inlineCode",{parentName:"p"},"Window"),"/",(0,t.kt)("inlineCode",{parentName:"p"},"UserControl")," and its children:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-markup"},'<UserControl xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             x:Class="MyApp.MyUserControl">\n  <UserControl.Resources>\n    <SolidColorBrush x:Key="Warning">Yellow</SolidColorBrush>\n  </UserControl.Resources>\n</UserControl>\n')),(0,t.kt)("p",null,"Or in fact any control at all:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-markup"},'<Window xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             x:Class="MyApp.MainWindow">\n  <StackPanel>\n    <StackPanel.Resources>\n      <SolidColorBrush x:Key="Warning">Yellow</SolidColorBrush>\n    </StackPanel.Resources>\n  </StackPanel>\n</Window>\n')),(0,t.kt)("p",null,"You can also declare resources on styles:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-markup"},'<Style Selector="TextBlock.warn">\n  <Style.Resources>\n    <SolidColorBrush x:Key="Warning">Yellow</SolidColorBrush>\n  </Style.Resources>\n</Style>\n')),(0,t.kt)("h2",{id:"referencing-resources"},"Referencing resources"),(0,t.kt)("p",null,"You can references resources from controls using the ",(0,t.kt)("inlineCode",{parentName:"p"},"{DynamicResource}")," markup extensions, e.g.:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-markup"},'<Border Background="{DynamicResource Warning}">\n  Look out!\n</Border>\n')),(0,t.kt)("p",null,"Alternatively there is the ",(0,t.kt)("inlineCode",{parentName:"p"},"StaticResource")," markup extension which has a few limitations with respect to ",(0,t.kt)("inlineCode",{parentName:"p"},"DynamicResource"),":"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"It will not respond to changes in the resource"),(0,t.kt)("li",{parentName:"ul"},"The resource needs to be declared in the same XAML file")),(0,t.kt)("p",null,"In return, ",(0,t.kt)("inlineCode",{parentName:"p"},"StaticResource")," doesn't need to add an event handler to listen for changes in resources which means it uses slightly less memory."),(0,t.kt)("h2",{id:"overriding-resources"},"Overriding resources"),(0,t.kt)("p",null,"Resources are resolved by walking up the logical tree from the point of the ",(0,t.kt)("inlineCode",{parentName:"p"},"DynamicResource")," or ",(0,t.kt)("inlineCode",{parentName:"p"},"StaticResource"),' until a resource with the requested key is found. This means that resources can be "overridden" in sub-trees of the application, for example:'),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-markup"},'<UserControl xmlns="https://github.com/avaloniaui"\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n             x:Class="MyApp.MyUserControl">\n  <UserControl.Resources>\n    <SolidColorBrush x:Key="Warning">Yellow</SolidColorBrush>\n  </UserControl.Resources>\n\n  <StackPanel>\n    <StackPanel.Resources>\n      <SolidColorBrush x:Key="Warning">Orange</SolidColorBrush>\n    </StackPanel.Resources>\n\n    <Border Background="{DynamicResource Warning}">\n      Look out!\n    </Border>\n  </StackPanel>\n</UserControl>\n')),(0,t.kt)("p",null,"Here's the ",(0,t.kt)("inlineCode",{parentName:"p"},"Border"),"'s background will be ",(0,t.kt)("inlineCode",{parentName:"p"},"Orange")," because its parent ",(0,t.kt)("inlineCode",{parentName:"p"},"StackPanel"),' has "overridden" the ',(0,t.kt)("inlineCode",{parentName:"p"},"Warning")," resource from the ",(0,t.kt)("inlineCode",{parentName:"p"},"Yellow")," declared on the ",(0,t.kt)("inlineCode",{parentName:"p"},"UserControl"),"."),(0,t.kt)("h2",{id:"merged-resource-dictionaries"},"Merged resource dictionaries"),(0,t.kt)("p",null,"The ",(0,t.kt)("inlineCode",{parentName:"p"},"Resources")," property on each control and style is of type ",(0,t.kt)("inlineCode",{parentName:"p"},"ResourceDictionary"),". Resource dictionaries can also include other resource dictionaries by making use of the ",(0,t.kt)("inlineCode",{parentName:"p"},"MergedDictionaries")," property. To include a resource dictionary in another you can use the ",(0,t.kt)("inlineCode",{parentName:"p"},"ResourceInclude")," class, e.g.:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-markup"},"<Window.Resources>\n  <ResourceDictionary>\n    <ResourceDictionary.MergedDictionaries>\n      <ResourceInclude Source='/AnotherResourceDictionary.xaml'/>\n    </ResourceDictionary.MergedDictionaries>\n    <SolidColorBrush x:Key=\"Warning\">Yellow</SolidColorBrush>\n  </ResourceDictionary>\n</Window.Resources>\n")),(0,t.kt)("p",null,"Where ",(0,t.kt)("inlineCode",{parentName:"p"},"AnotherResourceDictionary")," is a XAML file with a root of ",(0,t.kt)("inlineCode",{parentName:"p"},"ResourceDictionary")," and is included as an ",(0,t.kt)("a",{parentName:"p",href:"/avalonia-docs/docs/getting-started/assets"},"asset")," in the application."),(0,t.kt)("h2",{id:"resource-resolution"},"Resource resolution"),(0,t.kt)("p",null,"As mentioned above, resources are resolved by walking up the logical tree from the point of the ",(0,t.kt)("inlineCode",{parentName:"p"},"DynamicResource")," or ",(0,t.kt)("inlineCode",{parentName:"p"},"StaticResource")," until a resource with the requested key is found. However the presence of styles and merged dictionaries complicates this somewhat. The precedence is as follows:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Control resources",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},"Merged dictionaries"))),(0,t.kt)("li",{parentName:"ul"},"Style resources",(0,t.kt)("ul",{parentName:"li"},(0,t.kt)("li",{parentName:"ul"},"Merged dictionaries")))),(0,t.kt)("p",null,"For the example application below, resource lookup for a resource defined on the ",(0,t.kt)("inlineCode",{parentName:"p"},"Border")," control would follow the order indicated in ",(0,t.kt)("inlineCode",{parentName:"p"},"[]")," brackets:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-text"},"Application\n |- Resources [11]\n     |- Merged dictionary [12]\n     |- Merged dictionary [13]\n |- Styles\n     |- Resources [14]\n         |- Merged dictionary [15]\n         |- Merged dictionary [16]\n\nWindow\n |- Resources [6]\n     |- Merged dictionary [7]\n |- Styles\n     |- Resources [8]\n         |- Merged dictionary [9]\n         |- Merged dictionary [10]\n |- StackPanel\n     |- Resources [1]\n         |- Merged dictionary [2]\n         |- Merged dictionary [3]\n     |- Styles\n         |- Resources [4]\n             |- Merged dictionary [5]\n     |- Border\n")),(0,t.kt)("h2",{id:"theme-resources"},"Theme resources"),(0,t.kt)("p",null,"Themes will usually define brushes, colors and other settings as resources. By changing these resources one can e.g. switch from a dark to a light theme. The resources defined will usually be specific to the theme in use but you can see the resources defined by the default theme ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/AvaloniaUI/Avalonia/blob/master/src/Avalonia.Themes.Fluent/Accents/BaseResources.xaml"},"here"),"."))}p.isMDXComponent=!0}}]);