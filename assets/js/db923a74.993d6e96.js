"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[10830],{36160:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var t=i(85893),a=i(11151);const o="data:image/png;base64,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",s={id:"code-behind",title:"Code-behind"},l="Code-behind",d={id:"basics/user-interface/code-behind",title:"Code-behind",description:"In addition to a XAML file, most Avalonia controls also have a code-behind file that is commonly written in C#. The code-behind file by convention has the file extension .axaml.cs and is often displayed nested below the XAML file in your IDE.",source:"@site/docs/basics/user-interface/code-behind.md",sourceDirName:"basics/user-interface",slug:"/basics/user-interface/code-behind",permalink:"/avalonia-docs/docs/basics/user-interface/code-behind",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/basics/user-interface/code-behind.md",tags:[],version:"current",frontMatter:{id:"code-behind",title:"Code-behind"},sidebar:"documentationSidebar",previous:{title:"Avalonia XAML",permalink:"/avalonia-docs/docs/basics/user-interface/introduction-to-xaml"},next:{title:"Controls",permalink:"/avalonia-docs/docs/basics/user-interface/controls/"}},r={},c=[{value:"Locating Controls",id:"locating-controls",level:2},{value:"Set Properties",id:"set-properties",level:2},{value:"Handling Events",id:"handling-events",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"code-behind",children:"Code-behind"}),"\n",(0,t.jsxs)(n.p,{children:["In addition to a XAML file, most Avalonia controls also have a ",(0,t.jsx)(n.em,{children:"code-behind"})," file that is commonly written in C#. The code-behind file by convention has the file extension ",(0,t.jsx)(n.code,{children:".axaml.cs"})," and is often displayed nested below the XAML file in your IDE."]}),"\n",(0,t.jsxs)(n.p,{children:["For instance, in the Visual Studio solution explorer, you can see a ",(0,t.jsx)(n.code,{children:"MainWindow.axaml"})," file along with its code-behind file ",(0,t.jsx)(n.code,{children:"MainWindow.axaml.cs"}),":"]}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("img",{src:o,className:"medium-zoom-image"})}),"\n",(0,t.jsx)(n.p,{children:"The code-behind file contains a class that shares the same name as the XAML file. For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:"using Avalonia.Controls;\n\nnamespace AvaloniaApplication1.Views\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n    }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Notice that the class name matches the name of the XAML file, and is also referenced in the ",(0,t.jsx)(n.code,{children:"x:Class"})," attribute of the window element."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        // highlight-next-line\n        x:Class="AvaloniaApplication1.Views.MainWindow">\n  ...\n</Window>\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["If you make any changes to the class name in code, or its namespace, ensure that the  ",(0,t.jsx)(n.code,{children:"x:Class"})," attribute always matches, or you will get an error."]})}),"\n",(0,t.jsxs)(n.p,{children:["When the code-behind file is first added, it has only a constructor, which calls the  ",(0,t.jsx)(n.code,{children:"InitializeComponent()"})," method. This method call is required to load the XAML at runtime."]}),"\n",(0,t.jsx)(n.h2,{id:"locating-controls",children:"Locating Controls"}),"\n",(0,t.jsx)(n.p,{children:"When working with code-behind, you often need to access the controls defined in XAML."}),"\n",(0,t.jsxs)(n.p,{children:["To do this, you first need to obtain a reference to the desired control. Give the control a name using the ",(0,t.jsx)(n.code,{children:"Name"})," (or ",(0,t.jsx)(n.code,{children:"x:Name"}),") attribute in XAML."]}),"\n",(0,t.jsx)(n.p,{children:"Here's an example of a XAML file with a named button:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication5.MainWindow">\n  // highlight-next-line\n  <Button Name="greetingButton">Hello World</Button>\n</Window>\n'})}),"\n",(0,t.jsxs)(n.p,{children:["You can now access the button via an auto-generated ",(0,t.jsx)(n.code,{children:"greetingButton"})," field from the code-behind:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:'using Avalonia.Controls;\n\nnamespace AvaloniaApplication1.Views\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            // highlight-next-line\n            greetingButton.Content = "Goodbye Cruel World!";\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"set-properties",children:"Set Properties"}),"\n",(0,t.jsx)(n.p,{children:"With the control reference available in the code-behind, you can set properties. For example, you can change the background property like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"greetingButton.Background = Brushes.Blue;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"handling-events",children:"Handling Events"}),"\n",(0,t.jsx)(n.p,{children:"Any useful application will require you to implement some action! When using the code-behind pattern, you write event handlers in the code-behind file."}),"\n",(0,t.jsx)(n.p,{children:"Event handlers are written as methods in the code-behind file, and then referenced in the XAML using an event attribute. For example, to add a handler for a button click event:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication4.MainWindow">\n  <Button Click="GreetingButtonClickHandler">Hello World</Button>\n</Window>\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:"public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    public void GreetingButtonClickHandler(object sender, RoutedEventArgs e)\n    {\n        // code here.\n    }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Note that many Avalonia event handlers pass a special argument of class ",(0,t.jsx)(n.code,{children:"RoutedEventArgs"}),". This includes information about how the event has been generated and propagated."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["For more information on the concepts of event routing, see ",(0,t.jsx)(n.a,{href:"/avalonia-docs/docs/concepts/input/routed-events",children:"here"}),"."]})})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>s});var t=i(67294);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);