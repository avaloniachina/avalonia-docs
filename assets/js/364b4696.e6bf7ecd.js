"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[51874],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var i=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=i.createContext({}),c=function(e){var t=i.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(a),u=n,m=d["".concat(l,".").concat(u)]||d[u]||f[u]||r;return a?i.createElement(m,o(o({ref:t},p),{},{components:a})):i.createElement(m,o({ref:t},p))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:n,o[1]=s;for(var c=2;c<r;c++)o[c]=a[c];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}u.displayName="MDXCreateElement"},44711:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>f,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var i=a(87462),n=(a(67294),a(3905));const r={id:"dealing-with-platforms",title:"Dealing with Multiple Platforms"},o=void 0,s={unversionedId:"guides/building-cross-platform-applications/dealing-with-platforms",id:"guides/building-cross-platform-applications/dealing-with-platforms",title:"Dealing with Multiple Platforms",description:"Managing Platform Differences & Capabilities",source:"@site/docs/guides/building-cross-platform-applications/dealing-with-platforms.md",sourceDirName:"guides/building-cross-platform-applications",slug:"/guides/building-cross-platform-applications/dealing-with-platforms",permalink:"/avalonia-docs/docs/next/guides/building-cross-platform-applications/dealing-with-platforms",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/guides/building-cross-platform-applications/dealing-with-platforms.md",tags:[],version:"current",frontMatter:{id:"dealing-with-platforms",title:"Dealing with Multiple Platforms"},sidebar:"documentationSidebar",previous:{title:"Setting Up A Cross Platform Solution",permalink:"/avalonia-docs/docs/next/guides/building-cross-platform-applications/solution-setup"},next:{title:"How To Use the MVVM Pattern",permalink:"/avalonia-docs/docs/next/guides/implementation-guides/how-to-use-the-mvvm-pattern"}},l={},c=[{value:"Managing Platform Differences &amp; Capabilities",id:"managing-platform-differences--capabilities",level:2},{value:"Examples of Platform Divergence",id:"examples-of-platform-divergence",level:3},{value:"Platform-specific features",id:"platform-specific-features",level:3},{value:"Dealing with Platform Divergence",id:"dealing-with-platform-divergence",level:3},{value:"Platform Abstraction",id:"platform-abstraction",level:2},{value:"Interfaces",id:"interfaces",level:3},{value:"How it works",id:"how-it-works",level:4},{value:"Advantages",id:"advantages",level:4},{value:"Disadvantages",id:"disadvantages",level:4},{value:"Inheritance",id:"inheritance",level:3},{value:"How it works",id:"how-it-works-1",level:4},{value:"Advantages and Disadvantages",id:"advantages-and-disadvantages",level:4}],p={toc:c},d="wrapper";function f(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,i.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"managing-platform-differences--capabilities"},"Managing Platform Differences & Capabilities"),(0,n.kt)("p",null,"Platform differences aren't just an issue in cross-platform development; even devices within the same platform can possess diverse capabilities."),(0,n.kt)("p",null,"Most notably, this includes differences in screen size, but numerous other device characteristics may also vary, requiring the application to verify certain capabilities and adapt its behavior based on their presence (or absence). This is espically important when designing for cross paradigm situations, with desktop and mobile operating systems providing very different interaction models.  "),(0,n.kt)("p",null,"Therefore, all applications must be equipped to handle a graceful scaling back of functionality, or risk presenting a minimal feature set that does not leverage the full potential of the underlying platform. "),(0,n.kt)("h3",{id:"examples-of-platform-divergence"},"Examples of Platform Divergence"),(0,n.kt)("p",null,"There are certain fundamental characteristics inherent to applications that are universally applicable. These are high-level concepts that hold true across all devices and platforms and can thus form the core of your application's design:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A screen, which can display your application UI."),(0,n.kt)("li",{parentName:"ul"},"Some form of input devices, typically touch for mobile and mouse and keyboard for desktop. "),(0,n.kt)("li",{parentName:"ul"},"Display views of data."),(0,n.kt)("li",{parentName:"ul"},"Editing data."),(0,n.kt)("li",{parentName:"ul"},"Navigation capabilities. ")),(0,n.kt)("h3",{id:"platform-specific-features"},"Platform-specific features"),(0,n.kt)("p",null,"Beyond the universal application characteristics, you will also have to address key platform differences in your design. You may need to consider, and possibly write or tweak code specifically to handle, these differences:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Screen Sizes"),": While some platforms (like iOS) have standardized screen sizes that are relatively easy to target, others, like Desktop and WebAssembly, enable an unlimited variety of screen dimensions which would require more effort to support in your application.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Navigation Metaphors"),": These can vary across platforms (e.g., hardware 'back' button) and even within platforms (e.g., differences between Android 2 and 4, iPhone vs iPad).")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Keyboards"),": Some devices may come with physical keyboards, while others only feature a software keyboard. Code that detects when a soft-keyboard is obscuring part of the screen needs to be sensitive to these differences."))),(0,n.kt)("p",null,"These platform-specific differences should be carefully considered when designing your Avalonia application to ensure a seamless user experience across all platforms. While you should strive to maximise your code reuse, you should also avoid attempting to reuse 100% of your code across all supported platforms. Instead, talyor each platform UIs to the feel at home on the device. "),(0,n.kt)("h3",{id:"dealing-with-platform-divergence"},"Dealing with Platform Divergence"),(0,n.kt)("p",null,"Supporting multiple platforms from the same code-base can be achieved through abstracting platform features. "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Platform Abstraction"),": This approach leverages the Business Fa\xe7ade pattern to provide uniform access across platforms. It abstracts the unique platform implementations into a single, cohesive API. The primary advantage is the ability to write platform-agnostic code, enhancing code reusability and maintainability. However, this approach may not fully exploit the unique features and capabilities of each platform.")),(0,n.kt)("h2",{id:"platform-abstraction"},"Platform Abstraction"),(0,n.kt)("p",null,"In Avalonia, you can employ class abstractions to streamline your development process across different platforms. This can be achieved using interfaces or base classes defined in the shared code, then implemented or extended in platform-specific projects."),(0,n.kt)("h3",{id:"interfaces"},"Interfaces"),(0,n.kt)("p",null,"The utilization of interfaces empowers you to create platform-specific classes that can be incorporated into your shared libraries for code reuse."),(0,n.kt)("h4",{id:"how-it-works"},"How it works"),(0,n.kt)("p",null,"The interface is defined within the shared code and passed into the shared library as a parameter or property. The platform-specific applications can then implement the interface, allowing shared code to process it effectively."),(0,n.kt)("h4",{id:"advantages"},"Advantages"),(0,n.kt)("p",null,"The main advantage of this approach is that the implementation can contain platform-specific code and even reference platform-specific external libraries, offering high flexibility."),(0,n.kt)("h4",{id:"disadvantages"},"Disadvantages"),(0,n.kt)("p",null,"A potential disadvantage is the need to create and pass implementations into the shared code. If the interface is employed deep within the shared code, it may have to be passed through multiple method parameters, which might lead to a more complex call chain. If the shared code uses numerous different interfaces, they all must be created and set within the shared code."),(0,n.kt)("h3",{id:"inheritance"},"Inheritance"),(0,n.kt)("p",null,"Your shared code can implement abstract or virtual classes that could be extended in one or more platform-specific projects. This technique resembles the use of interfaces but provides some already implemented behaviors."),(0,n.kt)("h4",{id:"how-it-works-1"},"How it works"),(0,n.kt)("p",null,"By using inheritance, you can create base classes in your shared code that can be optionally extended in your platform-specific projects. However, as C# allows only single inheritance, this approach may influence your future API design. Hence, use inheritance with caution."),(0,n.kt)("h4",{id:"advantages-and-disadvantages"},"Advantages and Disadvantages"),(0,n.kt)("p",null,"The advantages and disadvantages of using interfaces apply equally to inheritance. However, an additional advantage of inheritance is that the base class can contain some implementation code. This potentially could provide an entire platform-agnostic implementation that can be optionally extended as needed."))}f.isMDXComponent=!0}}]);