"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[79868],{47758:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var s=t(85893),i=t(11151);const r={id:"running-your-app-on-a-raspberry-pi",title:"Running your app on a Raspberry Pi"},a=void 0,o={id:"guides/deep-dives/running-your-app-on-a-raspberry-pi",title:"Running your app on a Raspberry Pi",description:"Step 1",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/version-0.10.x/guides/deep-dives/running-your-app-on-a-raspberry-pi.md",sourceDirName:"guides/deep-dives",slug:"/guides/deep-dives/running-your-app-on-a-raspberry-pi",permalink:"/avalonia-docs/zh-Hans/docs/0.10.x/guides/deep-dives/running-your-app-on-a-raspberry-pi",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/i18n/zh-Hans/docusaurus-plugin-content-docs/version-0.10.x/guides/deep-dives/running-your-app-on-a-raspberry-pi.md",tags:[],version:"0.10.x",frontMatter:{id:"running-your-app-on-a-raspberry-pi",title:"Running your app on a Raspberry Pi"},sidebar:"documentationSidebar",previous:{title:"Deep Dives",permalink:"/avalonia-docs/zh-Hans/docs/0.10.x/guides/deep-dives/"},next:{title:"Running your Avalonia app on a Raspberry Pi with Raspbian Lite",permalink:"/avalonia-docs/zh-Hans/docs/0.10.x/guides/deep-dives/running-on-raspbian-lite-via-drm"}},d={},l=[{value:"Step 1",id:"step-1",level:3},{value:"Step 2",id:"step-2",level:3},{value:"Step 3",id:"step-3",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"step-1",children:"Step 1"}),"\n",(0,s.jsxs)(n.p,{children:["Flash 8GB SD Card with Raspbian Stretch (2018-11-13). ",(0,s.jsx)(n.code,{children:"BelenaEtcher"})," is a nice tool for that."]}),"\n",(0,s.jsxs)(n.p,{children:["Plug in the card and start the ",(0,s.jsx)(n.code,{children:"Raspberry Pi"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You can follow ",(0,s.jsx)(n.a,{href:"https://blogs.msdn.microsoft.com/david/2017/07/20/setting_up_raspian_and_dotnet_core_2_0_on_a_raspberry_pi/",children:"this guide"}),", next steps are summarized below."]}),"\n",(0,s.jsx)(n.h3,{id:"step-2",children:"Step 2"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Install ",(0,s.jsx)(n.code,{children:"curl"}),", ",(0,s.jsx)(n.code,{children:"libunwind8"}),", ",(0,s.jsx)(n.code,{children:"gettext"})," and ",(0,s.jsx)(n.code,{children:"apt-transport-https"}),". The ",(0,s.jsx)(n.code,{children:"curl"})," and ",(0,s.jsx)(n.code,{children:"apt-transport-https"})," often are up-to-date."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install curl libunwind8 gettext apt-transport-https\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Download tar-ball."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -sSL -o dotnet.tar.gz https://dotnetcli.blob.core.windows.net/dotnet/Runtime/release/2.0.0/dotnet-runtime-latest-linux-arm.tar.gz\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Unpack tarball to ",(0,s.jsx)(n.code,{children:"/opt/dotnet"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /opt/dotnet && sudo tar zxf dotnet.tar.gz -C /opt/dotnet\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Link ",(0,s.jsx)(n.code,{children:"dotnet"})," binary."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo ln -s /opt/dotnet/dotnet /usr/local/bin\n"})}),"\n",(0,s.jsx)(n.p,{children:'Alternative: You can login as superuser (run "sudo su")'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"apt-get -y install curl libunwind8 gettext apt-transport-https\ncurl -sSL -o dotnet.tar.gz https://dotnetcli.blob.core.windows.net/dotnet/Runtime/release/2.0.0/dotnet-runtime-latest-linux-arm.tar.gz\nmkdir -p /opt/dotnet && sudo tar zxf dotnet.tar.gz -C /opt/dotnet\nln -s /opt/dotnet/dotnet /usr/local/bin\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Note: Take care of line endings of the script. It should use ",(0,s.jsx)(n.code,{children:"LF"})," instead of ",(0,s.jsx)(n.code,{children:"CR LF"}),". Save the script as ",(0,s.jsx)(n.code,{children:".sh"})," file and run it on the ",(0,s.jsx)(n.code,{children:"Raspberry Pi"})," with bash ",(0,s.jsx)(n.code,{children:"filename.sh"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-3",children:"Step 3"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["To run an ",(0,s.jsx)(n.code,{children:"Avalonia"})," application on ",(0,s.jsx)(n.code,{children:"Raspberry Pi"})," you need to use this nuGet package:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"https://www.nuget.org/packages/Avalonia.Skia.Linux.Natives/1.68.0.2\n"})}),"\n",(0,s.jsxs)(n.p,{children:["It includes the ",(0,s.jsx)(n.code,{children:"libSkiaSharp.so"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Now publish the app with the following command:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dotnet publish -r linux-arm -f netcoreapp2.0\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Copy publish directory to the ",(0,s.jsx)(n.code,{children:"Raspberry Pi"})," and run it with ",(0,s.jsx)(n.code,{children:"dotnet publish/ApplicationName.dll"})]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var s=t(67294);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);