"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[71968],{82528:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>t,toc:()=>r});var a=i(85893),o=i(11151);const s="data:image/png;base64,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",d={id:"code-behind",title:"Code-behind"},l="Code-behind",t={id:"basics/user-interface/code-behind",title:"Code-behind",description:"\u9664\u4e86XAML\u6587\u4ef6\u5916\uff0c\u5927\u591a\u6570Avalonia\u63a7\u4ef6\u8fd8\u5177\u6709\u5e38\u5e38\u7528C#\u7f16\u5199\u7684 code-behind \u6587\u4ef6\u3002\u4ee3\u7801\u540e\u53f0\u6587\u4ef6\u901a\u5e38\u5177\u6709.axaml.cs\u6587\u4ef6\u6269\u5c55\u540d\uff0c\u5e76\u4e14\u901a\u5e38\u5728IDE\u4e2d\u663e\u793a\u5728XAML\u6587\u4ef6\u7684\u4e0b\u4e00\u7ea7\u3002",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/basics/user-interface/code-behind.md",sourceDirName:"basics/user-interface",slug:"/basics/user-interface/code-behind",permalink:"/avalonia-docs/zh-Hans/docs/basics/user-interface/code-behind",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/i18n/zh-Hans/docusaurus-plugin-content-docs/current/basics/user-interface/code-behind.md",tags:[],version:"current",frontMatter:{id:"code-behind",title:"Code-behind"},sidebar:"documentationSidebar",previous:{title:"Avalonia XAML",permalink:"/avalonia-docs/zh-Hans/docs/basics/user-interface/introduction-to-xaml"},next:{title:"\u63a7\u4ef6",permalink:"/avalonia-docs/zh-Hans/docs/basics/user-interface/controls/"}},c={},r=[{value:"\u5b9a\u4f4d\u63a7\u4ef6",id:"\u5b9a\u4f4d\u63a7\u4ef6",level:2},{value:"\u8bbe\u7f6e\u5c5e\u6027",id:"\u8bbe\u7f6e\u5c5e\u6027",level:2},{value:"\u5904\u7406\u4e8b\u4ef6",id:"\u5904\u7406\u4e8b\u4ef6",level:2}];function h(n){const e={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{id:"code-behind",children:"Code-behind"}),"\n",(0,a.jsxs)(e.p,{children:["\u9664\u4e86XAML\u6587\u4ef6\u5916\uff0c\u5927\u591a\u6570Avalonia\u63a7\u4ef6\u8fd8\u5177\u6709\u5e38\u5e38\u7528C#\u7f16\u5199\u7684 ",(0,a.jsx)(e.em,{children:"code-behind"})," \u6587\u4ef6\u3002\u4ee3\u7801\u540e\u53f0\u6587\u4ef6\u901a\u5e38\u5177\u6709",(0,a.jsx)(e.code,{children:".axaml.cs"}),"\u6587\u4ef6\u6269\u5c55\u540d\uff0c\u5e76\u4e14\u901a\u5e38\u5728IDE\u4e2d\u663e\u793a\u5728XAML\u6587\u4ef6\u7684\u4e0b\u4e00\u7ea7\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u4f8b\u5982\uff0c\u5728Visual Studio\u7684\u89e3\u51b3\u65b9\u6848\u8d44\u6e90\u7ba1\u7406\u5668\u4e2d\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a",(0,a.jsx)(e.code,{children:"MainWindow.axaml"}),"\u6587\u4ef6\u4ee5\u53ca\u5b83\u7684code-behind\u6587\u4ef6",(0,a.jsx)(e.code,{children:"MainWindow.axaml.cs"}),"\uff1a"]}),"\n",(0,a.jsx)("p",{children:(0,a.jsx)("img",{src:s,className:"medium-zoom-image"})}),"\n",(0,a.jsx)(e.p,{children:"code-behind\u6587\u4ef6\u5305\u542b\u4e00\u4e2a\u4e0eXAML\u6587\u4ef6\u540c\u540d\u7684\u7c7b\u3002\u4f8b\u5982\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:"using Avalonia.Controls;\n\nnamespace AvaloniaApplication1.Views\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n    }\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u8bf7\u6ce8\u610f\uff0c\u7c7b\u540d\u4e0eXAML\u6587\u4ef6\u7684\u540d\u79f0\u5339\u914d\uff0c\u5e76\u4e14\u5728",(0,a.jsx)(e.code,{children:"Window"}),"\u5143\u7d20\u7684",(0,a.jsx)(e.code,{children:"x:Class"}),"\u5c5e\u6027\u4e2d\u4e5f\u6709\u5f15\u7528\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        // highlight-next-line\n        x:Class="AvaloniaApplication1.Views.MainWindow">\n  ...\n</Window>\n'})}),"\n",(0,a.jsx)(e.admonition,{type:"tip",children:(0,a.jsxs)(e.p,{children:["\u5982\u679c\u5728\u4ee3\u7801\u4e2d\u5bf9\u7c7b\u540d\u6216\u5176\u547d\u540d\u7a7a\u95f4\u8fdb\u884c\u4e86\u4efb\u4f55\u66f4\u6539\uff0c\u8bf7\u786e\u4fdd",(0,a.jsx)(e.code,{children:"x:Class"}),"\u5c5e\u6027\u59cb\u7ec8\u5339\u914d\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u9519\u8bef\u3002"]})}),"\n",(0,a.jsxs)(e.p,{children:["\u5f53\u9996\u6b21\u6dfb\u52a0code-behind\u6587\u4ef6\u65f6\uff0c\u5b83\u53ea\u6709\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u8be5\u6784\u9020\u51fd\u6570\u8c03\u7528",(0,a.jsx)(e.code,{children:"InitializeComponent()"}),"\u65b9\u6cd5\u3002\u8c03\u7528\u6b64\u65b9\u6cd5\u5728\u8fd0\u884c\u65f6\u52a0\u8f7dXAML\u662f\u5fc5\u9700\u7684\u3002"]}),"\n",(0,a.jsx)(e.h2,{id:"\u5b9a\u4f4d\u63a7\u4ef6",children:"\u5b9a\u4f4d\u63a7\u4ef6"}),"\n",(0,a.jsx)(e.p,{children:"\u5728\u4f7f\u7528code-behind\u65f6\uff0c\u60a8\u901a\u5e38\u9700\u8981\u8bbf\u95ee\u5728XAML\u4e2d\u5b9a\u4e49\u7684\u63a7\u4ef6\u3002"}),"\n",(0,a.jsxs)(e.p,{children:["\u4e3a\u6b64\uff0c\u60a8\u9700\u8981\u901a\u8fc7\u5728XAML\u4e2d\u4f7f\u7528",(0,a.jsx)(e.code,{children:"Name"}),"\uff08\u6216",(0,a.jsx)(e.code,{children:"x:Name"}),"\uff09\u5c5e\u6027\u4e3a\u6240\u9700\u7684\u63a7\u4ef6\u6307\u5b9a\u540d\u79f0\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u4e0b\u9762\u662f\u4e00\u4e2a\u5177\u6709\u547d\u540d\u6309\u94ae\u7684XAML\u6587\u4ef6\u793a\u4f8b\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication5.MainWindow">\n  // highlight-next-line\n  <Button Name="greetingButton">Hello World</Button>\n</Window>\n'})}),"\n",(0,a.jsxs)(e.p,{children:["\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7code-behind\u4e2d\u81ea\u52a8\u751f\u6210\u7684",(0,a.jsx)(e.code,{children:"greetingButton"}),"\u5b57\u6bb5\u8bbf\u95ee\u8be5\u6309\u94ae\uff1a"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:'using Avalonia.Controls;\n\nnamespace AvaloniaApplication1.Views\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            // highlight-next-line\n            greetingButton.Content = "Goodbye Cruel World!";\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u8bbe\u7f6e\u5c5e\u6027",children:"\u8bbe\u7f6e\u5c5e\u6027"}),"\n",(0,a.jsx)(e.p,{children:"\u901a\u8fc7\u5728code-behind\u4e2d\u63d0\u4f9b\u63a7\u4ef6\u5f15\u7528\uff0c\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u50cf\u8fd9\u6837\u66f4\u6539\u80cc\u666f\u5c5e\u6027\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",children:"greetingButton.Background = Brushes.Blue;\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u5904\u7406\u4e8b\u4ef6",children:"\u5904\u7406\u4e8b\u4ef6"}),"\n",(0,a.jsx)(e.p,{children:"\u4efb\u4f55\u6709\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u9700\u8981\u60a8\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\uff01\u5f53\u4f7f\u7528\u4ee3\u7801\u540e\u53f0\u6a21\u5f0f\u65f6\uff0c\u60a8\u9700\u8981\u5728code-behind\u6587\u4ef6\u4e2d\u7f16\u5199\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u7f16\u5199\u4e3acode-behind\u6587\u4ef6\u4e2d\u7684\u65b9\u6cd5\uff0c\u7136\u540e\u4f7f\u7528\u4e8b\u4ef6\u5c5e\u6027\u5728XAML\u4e2d\u5f15\u7528\u5b83\u4eec\u3002\u4f8b\u5982\uff0c\u8981\u4e3a\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6\u6dfb\u52a0\u5904\u7406\u7a0b\u5e8f\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-xml",metastring:"title='MainWindow.axaml'",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication4.MainWindow">\n  <Button Click="GreetingButtonClickHandler">Hello World</Button>\n</Window>\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",metastring:"title='MainWindow.axaml.cs'",children:"public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    public void GreetingButtonClickHandler(object sender, RoutedEventArgs e)\n    {\n        // code here.\n    }\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u8bf7\u6ce8\u610f\uff0c\u8bb8\u591aAvalonia\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u4f20\u9012\u4e86\u4e00\u4e2a\u540d\u4e3a",(0,a.jsx)(e.code,{children:"RoutedEventArgs"}),"\u7684\u7279\u6b8a\u53c2\u6570\u3002\u5b83\u5305\u542b\u6709\u5173\u4e8b\u4ef6\u7684\u751f\u6210\u548c\u4f20\u64ad\u65b9\u5f0f\u7684\u4fe1\u606f\u3002"]}),"\n",(0,a.jsx)(e.admonition,{type:"info",children:(0,a.jsxs)(e.p,{children:["\u6709\u5173\u4e8b\u4ef6\u8def\u7531\u6982\u5ff5\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1",(0,a.jsx)(e.a,{href:"/avalonia-docs/zh-Hans/docs/concepts/input/routed-events",children:"\u8fd9\u91cc"}),"."]})})]})}function u(n={}){const{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}},11151:(n,e,i)=>{i.d(e,{Z:()=>l,a:()=>d});var a=i(67294);const o={},s=a.createContext(o);function d(n){const e=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:d(n.components),a.createElement(s.Provider,{value:e},n.children)}}}]);