"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[81265],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>u});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),d=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=d(e.components);return i.createElement(l.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},y=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),c=d(n),y=a,u=c["".concat(l,".").concat(y)]||c[y]||h[y]||r;return n?i.createElement(u,o(o({ref:t},s),{},{components:n})):i.createElement(u,o({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=y;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[c]="string"==typeof e?e:a,o[1]=p;for(var d=2;d<r;d++)o[d]=n[d];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}y.displayName="MDXCreateElement"},74343:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>p,toc:()=>d});var i=n(87462),a=(n(67294),n(3905));const r={id:"inotifypropertychanged",title:"How to use INotifyPropertyChanged"},o=void 0,p={unversionedId:"guides/data-binding/inotifypropertychanged",id:"guides/data-binding/inotifypropertychanged",title:"How to use INotifyPropertyChanged",description:"Introduction",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/guides/data-binding/inotifypropertychanged.md",sourceDirName:"guides/data-binding",slug:"/guides/data-binding/inotifypropertychanged",permalink:"/avalonia-docs/zh-Hans/docs/next/guides/data-binding/inotifypropertychanged",draft:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/docs/guides/data-binding/inotifypropertychanged.md",tags:[],version:"current",frontMatter:{id:"inotifypropertychanged",title:"How to use INotifyPropertyChanged"},sidebar:"documentationSidebar",previous:{title:"\u4f7f\u7528 ResX \u8fdb\u884c\u672c\u5730\u5316",permalink:"/avalonia-docs/zh-Hans/docs/next/guides/implementation-guides/localizing"},next:{title:"How To Bind Style Classes",permalink:"/avalonia-docs/zh-Hans/docs/next/guides/data-binding/binding-classes"}},l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"What is INotifyPropertyChanged?",id:"what-is-inotifypropertychanged",level:2},{value:"Why is INotifyPropertyChanged Important in MVVM?",id:"why-is-inotifypropertychanged-important-in-mvvm",level:2},{value:"Implementing INotifyPropertyChanged",id:"implementing-inotifypropertychanged",level:2},{value:"Using MVVM Toolkit to Simplify INotifyPropertyChanged",id:"using-mvvm-toolkit-to-simplify-inotifypropertychanged",level:2}],s={toc:d},c="wrapper";function h(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,i.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged")," interface is a critical component in the Model-View-ViewModel (MVVM) design pattern that helps create scalable and maintainable applications. By notifying that a property has been changed, it allows the View to update automatically, improving the communication between the components of your application."),(0,a.kt)("h2",{id:"what-is-inotifypropertychanged"},"What is INotifyPropertyChanged?"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged")," is an interface provided by .NET that a class can implement to signal that a property has changed its value. This is especially useful in data-binding scenarios, where an automatic update of the UI can be triggered once the data it's bound to changes."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged")," interface has one event member, ",(0,a.kt)("inlineCode",{parentName:"p"},"PropertyChanged"),". When a property's value is changed, the object raises a ",(0,a.kt)("inlineCode",{parentName:"p"},"PropertyChanged")," event to notify any bound elements that the property has changed."),(0,a.kt)("h2",{id:"why-is-inotifypropertychanged-important-in-mvvm"},"Why is INotifyPropertyChanged Important in MVVM?"),(0,a.kt)("p",null,"In the MVVM pattern, the ViewModel encapsulates the interaction logic for the View and encapsulates the data from the Model. The View binds to properties in the ViewModel, which in turn exposes data contained in Model objects."),(0,a.kt)("p",null,"For the MVVM pattern to work as intended, the View needs to be updated whenever the underlying data changes. That's where ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged")," comes in. By implementing this interface in your ViewModel, you can notify the View about changes in the Model, which automatically updates the UI."),(0,a.kt)("h2",{id:"implementing-inotifypropertychanged"},"Implementing INotifyPropertyChanged"),(0,a.kt)("p",null,"Here's an example of how to implement ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},"public class MyViewModel : INotifyPropertyChanged\n{\n    private string _name;\n\n    public string Name\n    {\n        get { return _name; }\n        set\n        {\n            _name = value;\n            OnPropertyChanged(nameof(Name));\n        }\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    protected virtual void OnPropertyChanged(string propertyName)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n")),(0,a.kt)("p",null,"In this code, whenever the ",(0,a.kt)("inlineCode",{parentName:"p"},"Name")," property is set to a new value, the ",(0,a.kt)("inlineCode",{parentName:"p"},"OnPropertyChanged")," method is called, which raises the ",(0,a.kt)("inlineCode",{parentName:"p"},"PropertyChanged")," event. Any UI elements bound to this property will then update to reflect the new value."),(0,a.kt)("h2",{id:"using-mvvm-toolkit-to-simplify-inotifypropertychanged"},"Using MVVM Toolkit to Simplify INotifyPropertyChanged"),(0,a.kt)("p",null,"While implementing ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged")," isn't particularly complex, it can become tedious if you have many properties in your ViewModel. Luckily, the .NET Community Toolkit's MVVM library offers an even more efficient way to implement ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged")," using its ",(0,a.kt)("inlineCode",{parentName:"p"},"ObservableObject")," class and the ",(0,a.kt)("inlineCode",{parentName:"p"},"[ObservableProperty]")," attribute with the help of Source Generators."),(0,a.kt)("p",null,"Here's how you can achieve the same result as before, but using ",(0,a.kt)("inlineCode",{parentName:"p"},"ObservableObject"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},"using Microsoft.Toolkit.Mvvm.ComponentModel;\n\npublic partial class MyViewModel : ObservableObject\n{\n    [ObservableProperty]\n    private string _name;\n}\n")),(0,a.kt)("p",null,"In this code, the ",(0,a.kt)("inlineCode",{parentName:"p"},"ObservableObject")," class implements ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged"),", and the ",(0,a.kt)("inlineCode",{parentName:"p"},"[ObservableProperty]")," attribute is used to indicate that ",(0,a.kt)("inlineCode",{parentName:"p"},"_name")," is an observable property. The Source Generator will then generate the necessary boilerplate code behind the scenes, including the property's getter and setter, and automatically call the ",(0,a.kt)("inlineCode",{parentName:"p"},"OnPropertyChanged")," method when the property changes. This makes the implementation cleaner and less error-prone."),(0,a.kt)("p",null,"The MVVM Toolkit provides a range of tools to help simplify the implementation of the MVVM pattern in your .NET applications, including simplifying the use of ",(0,a.kt)("inlineCode",{parentName:"p"},"INotifyPropertyChanged"),". The use of Source Generators makes your code more efficient and readable, while still maintaining the same functionality."))}h.isMDXComponent=!0}}]);