"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[92505],{47986:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var s=t(85893),c=t(11151);const d={id:"clipboard",title:"Clipboard"},i=void 0,r={id:"concepts/services/clipboard",title:"Clipboard",description:"Clipboard \u7c7b\u5141\u8bb8\u4e0e\u7cfb\u7edf\u526a\u8d34\u677f\u4ea4\u4e92\uff0c\u63d0\u4f9b\u8bbe\u7f6e\u548c\u83b7\u53d6\u6587\u672c\u3001\u6e05\u7a7a\u526a\u8d34\u677f\u3001\u5904\u7406\u6570\u636e\u5bf9\u8c61\u4ee5\u53ca\u4f7f\u7528\u4e0d\u540c\u6570\u636e\u683c\u5f0f\u7684\u529f\u80fd\u3002",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/concepts/services/clipboard.md",sourceDirName:"concepts/services",slug:"/concepts/services/clipboard",permalink:"/avalonia-docs/zh-Hans/docs/concepts/services/clipboard",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/i18n/zh-Hans/docusaurus-plugin-content-docs/current/concepts/services/clipboard.md",tags:[],version:"current",frontMatter:{id:"clipboard",title:"Clipboard"},sidebar:"documentationSidebar",previous:{title:"\u670d\u52a1",permalink:"/avalonia-docs/zh-Hans/docs/concepts/services/"},next:{title:"Focus Manager",permalink:"/avalonia-docs/zh-Hans/docs/concepts/services/focus-manager"}},a={},l=[{value:"\u65b9\u6cd5",id:"\u65b9\u6cd5",level:2},{value:"GetTextAsync()",id:"gettextasync",level:3},{value:"SetTextAsync(string? text)",id:"settextasyncstring-text",level:3},{value:"ClearAsync()",id:"clearasync",level:3},{value:"SetDataObjectAsync(IDataObject data)",id:"setdataobjectasyncidataobject-data",level:3},{value:"GetFormatsAsync()",id:"getformatsasync",level:3},{value:"GetDataAsync(string format)",id:"getdataasyncstring-format",level:3},{value:"\u521b\u5efa\u8981\u53d1\u9001\u5230\u526a\u8d34\u677f\u7684 DataObject",id:"\u521b\u5efa\u8981\u53d1\u9001\u5230\u526a\u8d34\u677f\u7684-dataobject",level:2},{value:"\u5e73\u53f0\u517c\u5bb9\u6027\uff1a",id:"\u5e73\u53f0\u517c\u5bb9\u6027",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Clipboard"})," \u7c7b\u5141\u8bb8\u4e0e\u7cfb\u7edf\u526a\u8d34\u677f\u4ea4\u4e92\uff0c\u63d0\u4f9b\u8bbe\u7f6e\u548c\u83b7\u53d6\u6587\u672c\u3001\u6e05\u7a7a\u526a\u8d34\u677f\u3001\u5904\u7406\u6570\u636e\u5bf9\u8c61\u4ee5\u53ca\u4f7f\u7528\u4e0d\u540c\u6570\u636e\u683c\u5f0f\u7684\u529f\u80fd\u3002"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["\u6709\u5173\u8fd9\u4e9b\u6982\u5ff5\u5b9e\u9645\u8fd0\u7528\u7684\u5b8c\u6574\u53ef\u8fd0\u884c\u793a\u4f8b\uff0c\u8bf7\u67e5\u770b",(0,s.jsx)(n.a,{href:"https://github.com/AvaloniaUI/AvaloniaUI.QuickGuides/tree/main/ClipboardOps",children:"\u793a\u4f8b\u5e94\u7528"}),"\u3002"]})}),"\n",(0,s.jsxs)(n.p,{children:["\u53ef\u4ee5\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"TopLevel"})," \u6216 ",(0,s.jsx)(n.code,{children:"Window"})," \u5b9e\u4f8b\u6765\u8bbf\u95ee ",(0,s.jsx)(n.code,{children:"Clipboard"}),"\u3002\u6709\u5173\u8bbf\u95ee ",(0,s.jsx)(n.code,{children:"TopLevel"})," \u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u8bbf\u95ee",(0,s.jsx)(n.a,{href:"../toplevel",children:"TopLevel"}),"\u9875\u9762\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"var clipboard = window.Clipboard;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u65b9\u6cd5",children:"\u65b9\u6cd5"}),"\n",(0,s.jsx)(n.h3,{id:"gettextasync",children:"GetTextAsync()"}),"\n",(0,s.jsxs)(n.p,{children:["\u5f02\u6b65\u4ece\u526a\u8d34\u677f\u68c0\u7d22\u6587\u672c\u3002\u4efb\u52a1\u7684\u7ed3\u679c\u503c\u662f\u526a\u8d34\u677f\u4e2d\u7684\u6587\u672c\u3002\u5982\u679c\u526a\u8d34\u677f\u4e0d\u5305\u542b\u6587\u672c\u6216\u4e3a\u7a7a\uff0c\u5219\u8be5\u65b9\u6cd5\u8fd4\u56de ",(0,s.jsx)(n.code,{children:"null"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"Task<string?> GetTextAsync()\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Avalonia \u526a\u8d34\u677f\u59cb\u7ec8\u5904\u7406 Unicode \u6587\u672c\u3002"})}),"\n",(0,s.jsx)(n.h3,{id:"settextasyncstring-text",children:"SetTextAsync(string? text)"}),"\n",(0,s.jsxs)(n.p,{children:["\u5f02\u6b65\u8bbe\u7f6e\u526a\u8d34\u677f\u6587\u672c\uff0c\u5e76\u7acb\u5373\u6e05\u9664\u526a\u8d34\u677f\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7 ",(0,s.jsx)(n.code,{children:"string?"})," \u53c2\u6570\uff0c\u7528\u4e8e\u590d\u5236\u9700\u8981\u7684\u6587\u672c\u3002\u5982\u679c\u63d0\u4f9b\u7684\u6587\u672c\u4e3a ",(0,s.jsx)(n.code,{children:"null"}),"\uff0c\u5219\u526a\u8d34\u677f\u5c06\u88ab\u6e05\u9664\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"Task SetTextAsync(string? text)\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"\u4e0e\u4e0d\u540c\u7684 Win32 \u526a\u8d34\u677f API \u4e0d\u540c\uff0cAvalonia \u526a\u8d34\u677f\u59cb\u7ec8\u5237\u65b0\u6570\u636e\uff0c\u6c38\u8fdc\u4e0d\u4f1a\u5ef6\u8fdf\u3002"})}),"\n",(0,s.jsx)(n.h3,{id:"clearasync",children:"ClearAsync()"}),"\n",(0,s.jsx)(n.p,{children:"\u5f02\u6b65\u6e05\u9664\u526a\u8d34\u677f\u5e76\u7acb\u5373\u5237\u65b0\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"Task ClearAsync()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setdataobjectasyncidataobject-data",children:"SetDataObjectAsync(IDataObject data)"}),"\n",(0,s.jsxs)(n.p,{children:["\u5f02\u6b65\u5c06\u526a\u8d34\u677f\u5185\u5bb9\u8bbe\u7f6e\u4e3a\u6307\u5b9a\u7684\u6570\u636e\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7 ",(0,s.jsx)(n.code,{children:"IDataObject"})," \u53c2\u6570\u3002\u6570\u636e\u5bf9\u8c61\u53ef\u4ee5\u5305\u542b\u591a\u79cd\u6570\u636e\u683c\u5f0f\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"Task SetDataObjectAsync(IDataObject data)\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"\u4e0e\u4e0d\u540c\u7684 Win32 \u526a\u8d34\u677f API \u4e0d\u540c\uff0cAvalonia \u526a\u8d34\u677f\u59cb\u7ec8\u5237\u65b0\u6570\u636e\uff0c\u6c38\u8fdc\u4e0d\u4f1a\u5ef6\u8fdf\u3002"})}),"\n",(0,s.jsx)(n.h3,{id:"getformatsasync",children:"GetFormatsAsync()"}),"\n",(0,s.jsx)(n.p,{children:"\u5f02\u6b65\u68c0\u7d22\u5f53\u524d\u5b58\u50a8\u5728\u526a\u8d34\u677f\u4e2d\u7684\u683c\u5f0f\u5217\u8868\u3002\u4efb\u52a1\u7684\u7ed3\u679c\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u683c\u5f0f\u540d\u79f0\u7684\u6570\u7ec4\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"Task<string[]> GetFormatsAsync()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdataasyncstring-format",children:"GetDataAsync(string format)"}),"\n",(0,s.jsxs)(n.p,{children:["\u5f02\u6b65\u4ece\u526a\u8d34\u677f\u4e2d\u68c0\u7d22\u6307\u5b9a\u683c\u5f0f\u7684\u6570\u636e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a ",(0,s.jsx)(n.code,{children:"Task<object?>"}),"\uff0c\u4ee3\u8868\u8be5\u64cd\u4f5c\u3002\u4efb\u52a1\u7684\u7ed3\u679c\u503c\u662f\u6307\u5b9a\u683c\u5f0f\u7684\u526a\u8d34\u677f\u6570\u636e\u3002\u5982\u679c\u526a\u8d34\u677f\u4e2d\u6ca1\u6709\u6307\u5b9a\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5219\u8be5\u65b9\u6cd5\u8fd4\u56de ",(0,s.jsx)(n.code,{children:"null"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"Task<object?> GetDataAsync(string format)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u521b\u5efa\u8981\u53d1\u9001\u5230\u526a\u8d34\u677f\u7684-dataobject",children:"\u521b\u5efa\u8981\u53d1\u9001\u5230\u526a\u8d34\u677f\u7684 DataObject"}),"\n",(0,s.jsx)(n.p,{children:"\u60a8\u53ef\u4ee5\u5c06\u5bf9\u8c61\u5b58\u50a8\u5728\u526a\u8d34\u677f\u4e0a\uff0c\u5e76\u4f7f\u7528\u4e0d\u540c\u7684\u683c\u5f0f\u5728\u67d0\u4e9b\u5e73\u53f0\u4e0a\u8fdb\u884c\u5b58\u50a8\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",metastring:"title='C#'",children:'private async void CopyButton_OnClick(object? sender, RoutedEventArgs args)\n{\n    var clipboard = TopLevel.GetTopLevel(this)?.Clipboard;\n    var dataObject = new DataObject();\n    dataObject.Set(DataFormats.Text, "Hello World");\n    await clipboard.SetDataObjectAsync(dataObject);\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u5e73\u53f0\u517c\u5bb9\u6027",children:"\u5e73\u53f0\u517c\u5bb9\u6027\uff1a"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u529f\u80fd"}),(0,s.jsx)(n.th,{children:"Windows"}),(0,s.jsx)(n.th,{children:"macOS"}),(0,s.jsx)(n.th,{children:"Linux x11"}),(0,s.jsx)(n.th,{children:"\u6d4f\u89c8\u5668"}),(0,s.jsx)(n.th,{children:"Android"}),(0,s.jsx)(n.th,{children:"iOS"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GetTextAsync"})}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714**"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SetTextAsync"})}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ClearAsync"})}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GetFormatsAsync"})}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2716*"}),(0,s.jsx)(n.td,{children:"\u2716*"}),(0,s.jsx)(n.td,{children:"\u2716*"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SetDataObjectAsync"})}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2716*"}),(0,s.jsx)(n.td,{children:"\u2716*"}),(0,s.jsx)(n.td,{children:"\u2716*"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GetDataAsync"})}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2714"}),(0,s.jsx)(n.td,{children:"\u2716*"}),(0,s.jsx)(n.td,{children:"\u2716*"}),(0,s.jsx)(n.td,{children:"\u2716*"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"* \u5728\u6280\u672f\u4e0a\u53ef\u80fd\u53ef\u884c\uff0c\u4f46\u5c1a\u672a\u5b9e\u73b0\u3002\u6b22\u8fce\u8d21\u732e\uff01"}),"\n",(0,s.jsx)(n.p,{children:"** \u5728 Mozilla \u6d4f\u89c8\u5668\u4e2d\uff0cGetTextAsync \u65b9\u6cd5\u4ec5\u5728\u89e6\u53d1\u201c\u7c98\u8d34\u201d\u624b\u52bf\u540e\u624d\u8d77\u4f5c\u7528\uff0c\u901a\u5e38\u662f\u901a\u8fc7\u4f7f\u7528 Ctrl+V\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>i});var s=t(67294);const c={},d=s.createContext(c);function i(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);