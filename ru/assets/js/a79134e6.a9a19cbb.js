"use strict";(self.webpackChunkavalonia_docs=self.webpackChunkavalonia_docs||[]).push([[97092],{935:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>d,toc:()=>r});var a=i(85893),o=i(11151);const s="data:image/png;base64,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",t={id:"code-behind",title:"Code Behind"},l=void 0,d={id:"guides/basics/code-behind",title:"Code Behind",description:"Window and UserControl files also have an associated code-behind file which usually has the extension .xaml.cs or .axaml.cs and may be displayed collapsed under the XAML file in your editor. Below you can see a MainWindow.xaml file along with its markdown file MainWindow.xaml.cs in Visual Studio:",source:"@site/i18n/ru/docusaurus-plugin-content-docs/version-0.10.x/guides/basics/code-behind.md",sourceDirName:"guides/basics",slug:"/guides/basics/code-behind",permalink:"/avalonia-docs/ru/docs/0.10.x/guides/basics/code-behind",draft:!1,unlisted:!1,editUrl:"https://github.com/AvaloniaUI/avalonia-docs/tree/main/i18n/ru/docusaurus-plugin-content-docs/version-0.10.x/guides/basics/code-behind.md",tags:[],version:"0.10.x",frontMatter:{id:"code-behind",title:"Code Behind"},sidebar:"documentationSidebar",previous:{title:"Introduction to XAML",permalink:"/avalonia-docs/ru/docs/0.10.x/guides/basics/introduction-to-xaml"},next:{title:"MVVM Architecture",permalink:"/avalonia-docs/ru/docs/0.10.x/guides/basics/mvvm"}},c={},r=[{value:"Locating Controls",id:"locating-controls",level:3},{value:"Handling Events",id:"handling-events",level:3}];function h(n){const e={a:"a",br:"br",code:"code",em:"em",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.a,{href:"../../controls/window",children:"Window"})," and ",(0,a.jsx)(e.a,{href:"../../controls/usercontrol",children:"UserControl"})," files also have an associated ",(0,a.jsx)(e.em,{children:"code-behind"})," file which usually has the extension ",(0,a.jsx)(e.code,{children:".xaml.cs"})," or ",(0,a.jsx)(e.code,{children:".axaml.cs"})," and may be displayed collapsed under the XAML file in your editor. Below you can see a ",(0,a.jsx)(e.code,{children:"MainWindow.xaml"})," file along with its markdown file ",(0,a.jsx)(e.code,{children:"MainWindow.xaml.cs"})," in Visual Studio:"]}),"\n",(0,a.jsx)("img",{className:"center",src:s,alt:"Code-behind in Visual Studio"}),"\n",(0,a.jsx)(e.p,{children:"The code-behind file by default defines a .NET class with the same name as your XAML file, e.g."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",children:"using Avalonia;\nusing Avalonia.Controls;\nusing Avalonia.Markup.Xaml;\n\nnamespace AvaloniaApplication1\n{\n    public class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n#if DEBUG\n            AttachDevTools();\n#endif\n        }\n\n        private void InitializeComponent()\n        {\n            AvaloniaXamlLoader.Load(this);\n        }\n    }\n}\n\n"})}),"\n",(0,a.jsx)(e.p,{children:"Note that this class definition corresponds closely to the XAML file:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-markup",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication1.MainWindow">\n</Window>\n'})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["The base class, ",(0,a.jsx)(e.code,{children:"Window"})," is the root element of the XAML file"]}),"\n",(0,a.jsxs)(e.li,{children:["The ",(0,a.jsx)(e.code,{children:"x:Class"})," attribute references the fully-qualified name of the class defined in code-behind"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"If you make any changes to the base class, namespace, or name of the class, make sure to update both the code-behind and the XAML to ensure they match."}),"\n",(0,a.jsx)(e.p,{children:"In addition, the class contains two more things of interest:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["It enables ",(0,a.jsx)(e.a,{href:"../../getting-started/developer-tools",children:"DevTools"})," in debug mode"]}),"\n",(0,a.jsxs)(e.li,{children:["It defines an ",(0,a.jsx)(e.code,{children:"InitializeComponent"})," method which is used to load the XAML at runtime"]}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"locating-controls",children:"Locating Controls"}),"\n",(0,a.jsxs)(e.p,{children:["One of the main uses of the code-behind file is to manipulate controls using C# code. To do this you'll usually first want to get a reference to a named control. This can be done using the ",(0,a.jsx)(e.code,{children:"FindControl<T>"})," method:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-markup",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication4.MainWindow">\n  <Button Name="myButton">Hello World</Button>\n</Window>\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",children:'public class MainWindow : Window\n{\n    private Button myButton;\n\n    public MainWindow()\n    {\n        InitializeComponent();\n#if DEBUG\n        AttachDevTools();\n#endif\n    }\n\n    private void InitializeComponent()\n    {\n        AvaloniaXamlLoader.Load(this);\n        myButton = this.FindControl<Button>("myButton");\n    }\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"FindControl"})," must be called after ",(0,a.jsx)(e.code,{children:"AvaloniaXamlLoader.Load"})," has run because it's not until this point that the control will have been created."]}),"\n",(0,a.jsxs)(e.p,{children:["The good news this step is not necessary if you're using ",(0,a.jsx)(e.a,{href:"https://github.com/AvaloniaUI/Avalonia.NameGenerator",children:"Avalonia.NameGenerator"})," package (added to the Avalonia templates by default), because it provides a code-generation step which creates this code for you.",(0,a.jsx)(e.br,{}),"\n","In such case the code-behind class can be simplified to:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",children:"public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Note the class is now declared as ",(0,a.jsx)(e.code,{children:"partial"}),". That's because all the boilerplate code is now auto-generated by the Avalonia.NameGenerator at the second partial class which is not visible in the project.",(0,a.jsx)(e.br,{}),"\n","For the given XAML, it will look like follows:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",children:'// <auto-generated />\n\nusing Avalonia;\nusing Avalonia.Controls;\nusing Avalonia.Markup.Xaml;\n\nnamespace AvaloniaApplication1\n{\n    partial class MainWindow\n    {\n        internal global::Avalonia.Controls.Button myButton;\n\n        /// <summary>\n        /// Wires up the controls and optionally loads XAML markup and attaches dev tools (if Avalonia.Diagnostics package is referenced).\n        /// </summary>\n        /// <param name="loadXaml">Should the XAML be loaded into the component.</param>\n        /// <param name="attachDevTools">Should the dev tools be attached.</param>\n        public void InitializeComponent(bool loadXaml = true, bool attachDevTools = true)\n        {\n            if (loadXaml)\n            {\n                AvaloniaXamlLoader.Load(this);\n            }\n\n#if DEBUG\n            if (attachDevTools)\n            {\n                this.AttachDevTools();\n            }\n#endif\n\n            myButton = this.FindControl<global::Avalonia.Controls.Button>("myButton");\n        }\n    }\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["The auto-generated ",(0,a.jsx)(e.code,{children:"InitializeComponent"})," has arguments to optionally call the ",(0,a.jsx)(e.code,{children:"AvaloniaXamlLoader.Load(this)"})," and ",(0,a.jsx)(e.code,{children:"AttachDevTools"}),", so you don't need to call them yourself from your code-behind class anymore.",(0,a.jsx)(e.br,{}),"\n","Never keep a method named ",(0,a.jsx)(e.code,{children:"InitializeComponent"})," in your code-behind view class if you are using the generator with default settings. Read more at the ",(0,a.jsx)(e.a,{href:"https://github.com/AvaloniaUI/Avalonia.NameGenerator#advanced-usage",children:"Avalonia.NameGenerator documentation"}),"."]}),"\n",(0,a.jsx)(e.p,{children:"For the rest of the documentation, we'll assume you're either using Avalonia templates or added the Avalonia.NameGenerator package to your project manually."}),"\n",(0,a.jsx)(e.h3,{id:"handling-events",children:"Handling Events"}),"\n",(0,a.jsxs)(e.p,{children:["Another common use for the code-behind file is to define ",(0,a.jsx)(e.em,{children:"event handlers"}),". Event handlers are defined as methods in the code-behind and referenced from XAML. For example to add a handler for a button click:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-markup",children:'<Window xmlns="https://github.com/avaloniaui"\n        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n        x:Class="AvaloniaApplication4.MainWindow">\n  <Button Click="MyButton_Click">Hello World</Button>\n</Window>\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-csharp",children:"public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    public void MyButton_Click(object sender, RoutedEventArgs e)\n    {\n        // Handle click here.\n    }\n}\n"})})]})}function u(n={}){const{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}},11151:(n,e,i)=>{i.d(e,{Z:()=>l,a:()=>t});var a=i(67294);const o={},s=a.createContext(o);function t(n){const e=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),a.createElement(s.Provider,{value:e},n.children)}}}]);